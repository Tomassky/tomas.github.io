<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="IPS基础"/>








  <link rel="alternate" href="/atom.xml" title="Tomas'Blog">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.1" />



<link rel="canonical" href="http://yoursite.com/2020/07/12/ips_base/"/>


<meta name="description" content="IPS基础 IPS基础 一个真实的蠕虫攻击 IDS产品 IPS产品 IPS&#x2F;IDS技术发展历程 IPS、IDS、防火墙 技术介绍 躲避手段 Cisco 4240 实验   IPS环境搭建 选择GNS 初始化IPS IME   IME–IPS使用 常用的网络安全设备 IPS -&amp;gt; Sensor Setup IPS出入流量策略 IPS -&amp;gt; Interface IPS -&amp;gt; Pol">
<meta property="og:type" content="article">
<meta property="og:title" content="IPS基础">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;2020&#x2F;07&#x2F;12&#x2F;ips_base&#x2F;index.html">
<meta property="og:site_name" content="Tomas&#39;Blog">
<meta property="og:description" content="IPS基础 IPS基础 一个真实的蠕虫攻击 IDS产品 IPS产品 IPS&#x2F;IDS技术发展历程 IPS、IDS、防火墙 技术介绍 躲避手段 Cisco 4240 实验   IPS环境搭建 选择GNS 初始化IPS IME   IME–IPS使用 常用的网络安全设备 IPS -&amp;gt; Sensor Setup IPS出入流量策略 IPS -&amp;gt; Interface IPS -&amp;gt; Pol">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;%E8%A0%95%E8%99%AB%E7%97%85%E6%AF%92%E6%94%BB%E5%87%BB.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;%E5%95%86%E4%B8%9A%E5%8C%96%E9%98%B2%E6%94%BB%E5%87%BB%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IPS--IDS%E9%83%A8%E7%BD%B2.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IPS--IPS%E9%83%A8%E7%BD%B2.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IPS%E4%B8%8E%E9%98%B2%E7%81%AB%E5%A2%99%E7%9A%84%E6%AF%94%E8%BE%83.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IPS%E4%B8%8EIDS%E7%9A%84%E6%AF%94%E8%BE%83.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IPS%E3%80%81IDS%E3%80%81%E9%98%B2%E7%81%AB%E5%A2%99.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;Cisco%E6%AD%A3%E9%9D%A2%E6%9D%BF.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;Cisco%E8%83%8C%E9%9D%A2%E6%9D%BF.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;GNS3%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;GNS%E5%AF%BC%E5%85%A5%E9%95%9C%E5%83%8F%E6%88%90%E5%8A%9F.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;SecureCRT%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IPS%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;Piped%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;SecureCRT%E8%BF%9E%E6%8E%A5%E6%88%90%E5%8A%9F.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IPS-4240%E5%88%9D%E5%A7%8B%E5%8C%96%E9%85%8D%E7%BD%AE.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IPS-4240%E5%88%9D%E5%A7%8B%E5%8C%96%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME%E8%AE%BE%E7%BD%AE%E7%AE%80%E5%8D%95%E5%AF%86%E7%A0%81%E6%8A%A5%E9%94%99.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME%E6%B7%BB%E5%8A%A0%E8%AE%BE%E5%A4%87.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IPS-Configuration.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IPS--Network.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IPS--Login-Banner.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IPS--Permit.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IPS--Time.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IPS--Authentication.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IPS--Bypass.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IPS--Sig%E7%89%B9%E5%BE%81%E7%A0%81.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IPS--VS1.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IPS--Edit-Actions.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IPS-4240%E5%BC%80%E5%90%AF%E7%9A%84%E4%B8%BB%E6%9C%BA%E8%BF%9E%E6%8E%A5.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IDS%E6%9D%82%E5%90%88%E6%A8%A1%E5%BC%8F%E6%8A%A5%E8%AD%A6%E6%8B%93%E6%89%91%E5%9B%BE.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IDS%E5%BC%80%E5%90%AFInterface%E6%8E%A5%E5%8F%A3.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IDS%E7%BB%91%E5%AE%9A%E7%97%85%E6%AF%92%E7%89%B9%E5%BE%81%E8%AF%86%E5%88%AB%E5%BA%93Sig0.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IDS%E9%85%8D%E7%BD%AE%E7%97%85%E6%AF%92%E7%89%B9%E5%BE%81%E8%AF%86%E5%88%AB%E5%BA%93Sig0.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IDS%E7%9B%91%E6%8E%A7IDS-ICMP%E4%BA%8B%E4%BB%B6.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IDS%E7%9B%91%E6%8E%A7IDS%E4%BA%8B%E4%BB%B6.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IPS-4240%E5%BC%80%E5%90%AF%E7%9A%84%E4%B8%BB%E6%9C%BA%E8%BF%9E%E6%8E%A5.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IPS%E5%9C%A8%E7%BA%BF%E6%A8%A1%E5%BC%8F%E6%8A%A5%E8%AD%A6%E6%8B%93%E6%89%91%E5%9B%BE.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IPS%E9%85%8D%E7%BD%AEmypair.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IPS%E7%BB%91%E5%AE%9A%E7%97%85%E6%AF%92%E7%89%B9%E5%BE%81%E8%AF%86%E5%88%AB%E5%BA%93Sig0.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IPS%E9%85%8D%E7%BD%AE%E7%97%85%E6%AF%92%E7%89%B9%E5%BE%81%E8%AF%86%E5%88%AB%E5%BA%93Sig0.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IPS%E7%9B%91%E6%8E%A7IPS-ICMP%E4%BA%8B%E4%BB%B6.png">
<meta property="og:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;IME--IPS%E7%9B%91%E6%8E%A7IPS%E4%BA%8B%E4%BB%B6.png">
<meta property="og:updated_time" content="2020-07-12T08:28:16.502Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http:&#x2F;&#x2F;yoursite.com&#x2F;images&#x2F;ips&#x2F;ips-notepad&#x2F;%E8%A0%95%E8%99%AB%E7%97%85%E6%AF%92%E6%94%BB%E5%87%BB.png">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1" />
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  



    <title> IPS基础 - Tomas'Blog </title>
  </head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">Tomas'Blog</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          IPS基础
        
      </h1>

      <time class="post-time">
          7月 12 2020
      </time>
    </header>
    
            <div class="post-content">
            <hr>
<h2 id="IPS基础"><a href="#IPS基础" class="headerlink" title="IPS基础"></a>IPS基础</h2><ul>
<li>IPS基础<ul>
<li>一个真实的蠕虫攻击</li>
<li>IDS产品</li>
<li>IPS产品</li>
<li>IPS/IDS技术发展历程</li>
<li>IPS、IDS、防火墙</li>
<li>技术介绍</li>
<li>躲避手段</li>
<li>Cisco 4240</li>
<li>实验</li>
</ul>
</li>
<li>IPS环境搭建<ul>
<li>选择GNS</li>
<li>初始化IPS</li>
<li>IME</li>
</ul>
</li>
<li>IME–IPS使用<ul>
<li>常用的网络安全设备</li>
<li>IPS -&gt; Sensor Setup</li>
<li>IPS出入流量策略</li>
<li>IPS -&gt; Interface</li>
<li>IPS -&gt; Policies</li>
</ul>
</li>
<li>IME–IDS实验<ul>
<li>IDS模拟实验</li>
<li>IDS：IPS-4240</li>
<li>R1和R2</li>
<li>SW：EtherSwitch router</li>
<li>测试连通性</li>
<li>SPAN配置</li>
<li>入侵检测</li>
</ul>
</li>
<li>IME–IPS实验<ul>
<li>IPS模拟实验</li>
<li>IPS：IPS-4240</li>
<li>R1和R2</li>
<li>SW：EtherSwitch router</li>
<li>测试连通性</li>
<li>拓扑配置</li>
<li>入侵检测</li>
</ul>
</li>
</ul>
<h3 id="0X00-IPS基础"><a href="#0X00-IPS基础" class="headerlink" title="0X00 IPS基础"></a>0X00 IPS基础</h3><h5 id="一个真实的蠕虫攻击"><a href="#一个真实的蠕虫攻击" class="headerlink" title="一个真实的蠕虫攻击"></a>一个真实的蠕虫攻击</h5><ul>
<li>扫描，发现主机</li>
<li>向目标主机发送溢出报文，控制目标机</li>
<li>获取目标机控制权</li>
<li>目标机发攻击<ul>
<li>向新受害者发起攻击，最终形成规模攻击</li>
<li>将真正攻击者隐藏，增加追查难度</li>
</ul>
</li>
<li>▲ 蠕虫病毒具有自传播性，可以感染整个内网，不同于其他的病毒</li>
</ul>
<p><img src="/images/ips/ips-notepad/%E8%A0%95%E8%99%AB%E7%97%85%E6%AF%92%E6%94%BB%E5%87%BB.png" alt="蠕虫病毒攻击"></p>
<p><img src="/images/ips/ips-notepad/%E5%95%86%E4%B8%9A%E5%8C%96%E9%98%B2%E6%94%BB%E5%87%BB%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88.png" alt="商业化防攻击解决方案"></p>
<h5 id="IDS产品"><a href="#IDS产品" class="headerlink" title="IDS产品"></a>IDS产品</h5><ul>
<li>IDS定义：Intrusion Detection System，入侵检测系统<ul>
<li>An intrusion detection system has the capability to <strong>detect</strong> misuse and abuse of,and unauthorized access to,netwoeked resources.</li>
</ul>
</li>
<li>IDS的两个关键特征<ul>
<li>实现应用层威胁识别，提供对网络数据的“监视功能”</li>
<li>旁路部署，与防火墙配合实现安全防范</li>
</ul>
</li>
<li>IDS优势<ul>
<li>IDS不影响网络</li>
<li>IDS的损坏不会影响到网络的功能</li>
<li>一旦超过了IDS的处理能力不会影响到网络流量，虽然这些数据不能够被IDS分析</li>
</ul>
</li>
<li>IDS问题<ul>
<li>IDS response action不能够阻止初始化包，也不能够保证阻止一个连接，IDS的响应技术能够比较好的阻止一个攻击者而不是一个攻击（Reset，Block）</li>
<li>IDS更容易受到网络逃避技术的攻击</li>
</ul>
</li>
<li><strong>注意</strong><ul>
<li>▲ IDS一般用于全流量镜像分析</li>
</ul>
</li>
</ul>
<h5 id="IPS产品"><a href="#IPS产品" class="headerlink" title="IPS产品"></a>IPS产品</h5><ul>
<li>IPS定义：Intrusion Prevention System，入侵防御系统<ul>
<li>An intrusion detection system has the capability to <strong>detect and prevent</strong> misuse and abuse of,and unauthorized access to,netwoeked resources.</li>
</ul>
</li>
<li>IPS的两个关键特征<ul>
<li>深入七层的数据流攻击特征检测<ul>
<li>蠕虫、基于Web的攻击、利用漏洞的攻击、网页篡改、木马、病毒、P2P滥用、DoS/DDoS等</li>
</ul>
</li>
<li>在线部署，实时阻断攻击</li>
</ul>
</li>
<li>IPS优势<ul>
<li>IPS deny action能够阻止触发包，后续数据包，或者所有源至于攻击者的包</li>
<li>IPS能够使用流量规范化技术，减少或者消除很多网络逃避技术</li>
<li>IPS能够有效的阻止蠕虫</li>
</ul>
</li>
<li>IPS问题<ul>
<li>IPS的错误或者损坏会影响到网络的流量</li>
<li>一旦超过了IPS的处理能力，会影响到网络的正常工作</li>
<li>IPS会影响到对时间敏感的运用程序，例如VOIP</li>
</ul>
</li>
<li>衡量IPS的标准<ul>
<li>False positive（错报）</li>
<li>False negative（漏报）</li>
</ul>
</li>
<li>⭐ IPS三种接口类型<ul>
<li>Command and Control Interface<ul>
<li>描述：带外网管口（插网线）</li>
<li>功能：需要配置IP地址，有路由能力，管理流量（https/ssh/telnet）从此接口进入</li>
</ul>
</li>
<li>Console and AUX port<ul>
<li>描述：Console AUX管理接口（插Console线）</li>
<li>功能：CLI带外管理（命令行）</li>
</ul>
</li>
<li>Monitoring（Sensor）Interfaces<ul>
<li>描述：监控接口（插网线）</li>
<li>功能：不能配置IP地址，没有路由能力，监控流量从此接口进入<ul>
<li>IPS工作模式</li>
</ul>
</li>
</ul>
</li>
<li>Promiscuous-Mode Protection：IDS</li>
<li>Inline-Mode Protection：IPS</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IPS--IDS%E9%83%A8%E7%BD%B2.png" alt="IPS--IDS部署"></p>
<p><img src="/images/ips/ips-notepad/IPS--IPS%E9%83%A8%E7%BD%B2.png" alt="IPS--IPS部署"></p>
<ul>
<li><strong>注意</strong>：<ul>
<li>▲ 可以单一部署IPS</li>
<li>▲ IPS可以类比于外部的AV查杀软件</li>
</ul>
</li>
</ul>
<h5 id="IPS-IDS技术发展历程"><a href="#IPS-IDS技术发展历程" class="headerlink" title="IPS/IDS技术发展历程"></a>IPS/IDS技术发展历程</h5><ul>
<li>1987年，入侵安全检测专家系统模型的提出</li>
<li>1988年，Morris蠕虫的爆发，促进了IDS开发研制</li>
<li>1990年，网络IDS–NSM（网络安全监视）用来检测所监视的广域网的网络流量的可疑行为</li>
<li>1998年，开源IDS：Snort</li>
<li>2000年，非IDS厂商提出IPS概念，并发布产品</li>
<li>2003年，主流开始使用IPS</li>
</ul>
<h5 id="IPS、IDS、防火墙"><a href="#IPS、IDS、防火墙" class="headerlink" title="IPS、IDS、防火墙"></a>IPS、IDS、防火墙</h5><ul>
<li>在网络环境中，FW、IPS一前一后部署，形成纵深的立体防御</li>
</ul>
<p><img src="/images/ips/ips-notepad/IPS%E4%B8%8E%E9%98%B2%E7%81%AB%E5%A2%99%E7%9A%84%E6%AF%94%E8%BE%83.png" alt="IPS与防火墙的比较"></p>
<ul>
<li>由于IDS与生俱来的缺陷，IPS必将全面取代IDS。DPtech IPS 2000可以同时实现IPS/IDS</li>
</ul>
<p><img src="/images/ips/ips-notepad/IPS%E4%B8%8EIDS%E7%9A%84%E6%AF%94%E8%BE%83.png" alt="IPS与IDS的比较"></p>
<ul>
<li>防火墙主要提供安全区域隔离、访问控制和VPN功能、不能有效检测并阻断夹杂在正常流量中的应用层攻击代码<ul>
<li>DMZ区域对外提供服务</li>
</ul>
</li>
<li>IDS由于旁路部署，侧重安全状态监控，需要和防火墙联动才能抵御威胁，适用于“事后审计”，无法满足实时安全防护</li>
<li>IPS在线部署、主动防御、实时阻断攻击</li>
</ul>
<p><img src="/images/ips/ips-notepad/IPS%E3%80%81IDS%E3%80%81%E9%98%B2%E7%81%AB%E5%A2%99.png" alt="IPS、IDS、防火墙"></p>
<h5 id="⭐-技术介绍"><a href="#⭐-技术介绍" class="headerlink" title="⭐ 技术介绍"></a>⭐ 技术介绍</h5><ul>
<li>Profile-Based Intrustion Detection<ul>
<li>特点：定义正常流量，其余均为非法流量</li>
<li>优点：黑客很难判断什么是合法流量，能够发现最新的还没被公布的攻击</li>
<li>缺点：很难规定正常流量，告警很难理解，错误误报很多</li>
<li>产品：主机IPS（CSA）</li>
</ul>
</li>
<li>Signature-Based Intrusion Detection<ul>
<li>特点：通过Signaure（特性代码）匹配攻击</li>
<li>优点：架构很容易，告警很容易理解，能够自定义Sig</li>
<li>缺点：不能检测未被公布的攻击，需要经常升级，需要Cache流量</li>
<li>产品：网络IPS（4215，4240….）</li>
</ul>
</li>
<li>Protocol Analysis<ul>
<li>特点：基于RFC或者安全规范监控协议</li>
<li>产品：防火墙的运用层监控</li>
</ul>
</li>
</ul>
<h5 id="⭐-躲避手段"><a href="#⭐-躲避手段" class="headerlink" title="⭐ 躲避手段"></a>⭐ 躲避手段</h5><ul>
<li>Flooding（泛洪攻击）<ul>
<li>逃避手段：制造大量超出IPS处理能力的流量，掩护非法流量穿越IPS</li>
</ul>
</li>
<li>Frametation（分片）<ul>
<li>逃避手段：制造大量分片耗尽IPS缓存，实施对IPS的DoS，掩护非法分片流量</li>
</ul>
</li>
<li>Encryption（加密）<ul>
<li>逃避手段：加密攻击流量</li>
<li>例如：通过木马控制客户端发起加密流量到攻击者</li>
</ul>
</li>
<li>Obfuscation（困惑）<ul>
<li>逃避手段：攻击者通过不同的编码方式来逃避IPS检测</li>
<li>例如：@法#轮￥功%</li>
</ul>
</li>
</ul>
<h5 id="Cisco-4240"><a href="#Cisco-4240" class="headerlink" title="Cisco 4240"></a>Cisco 4240</h5><ul>
<li>Cisco 4240正面板<ul>
<li>Cisco的IPS与防火墙外观相同，仅简介不同</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/Cisco%E6%AD%A3%E9%9D%A2%E6%9D%BF.png" alt="Cisco正面板"></p>
<ul>
<li>Cisco 4240背面板<ul>
<li>Command and Control Interface<ul>
<li>描述：带外网管口（插网线）</li>
<li>功能：需要配置IP地址，有路由能力，管理流量（https/ssh/telnet）从此接口进入</li>
</ul>
</li>
<li>Console and AUX port<ul>
<li>描述：Console AUX管理接口（插Console线）</li>
<li>功能：CLI带外管理（命令行）</li>
</ul>
</li>
<li>Monitoring（Sensor）Interfaces<ul>
<li>描述：监控接口（插网线）</li>
<li>功能：不能配置IP地址，没有路由能力，监控流量从此接口进入</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/Cisco%E8%83%8C%E9%9D%A2%E6%9D%BF.png" alt="Cisco背面板"></p>
<h5 id="实验"><a href="#实验" class="headerlink" title="实验"></a>实验</h5><ul>
<li>GNS3 0.8.6（傻瓜式安装）<ul>
<li>需要安装Winpcap 4.1.3</li>
<li>需要安装Wireshark 1.10.2（32bit）</li>
<li>导入ISO<ul>
<li>Edit → IOS and Hypervisors → Image file → bin文件 → save</li>
<li>导入路径不能有中文字符</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/GNS3%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F.png" alt="GNS3配置成功"></p>
<p><img src="/images/ips/ips-notepad/GNS%E5%AF%BC%E5%85%A5%E9%95%9C%E5%83%8F%E6%88%90%E5%8A%9F.png" alt="GNS导入镜像成功"></p>
<ul>
<li>SecureCRT_6.5.3.490（傻瓜式安装）<ul>
<li>可以自定义安装，不占C盘资源空间</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/SecureCRT%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F.png" alt="SecureCRT配置成功"> </p>
<ul>
<li>IPS-4240<ul>
<li>导入ova文件，设置新虚拟机位置<ul>
<li>账号：cisco</li>
<li>密码：ciscoips123</li>
</ul>
</li>
<li>网络适配器：自定义（VMnet8(NAT模式)）</li>
<li>网络适配器2：自定义VMnet2</li>
<li>网络适配器3：自定义VMnet3</li>
<li>网络适配器4：桥接模式（自动）</li>
<li>网络适配器5：桥接模式（自动）</li>
<li>新增串行端口：使用命名的管道:\.\pipe\842-1</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IPS%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F.png" alt="IPS配置成功"></p>
<ul>
<li>Piped.exe（用MFC开发）<ul>
<li>模拟IPS串行端口</li>
<li>输入Pipe和自定义Port</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/Piped%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F.png" alt="Piped配置成功"></p>
<ul>
<li>SecureCRT连接<ul>
<li>新建快速连接<ul>
<li>协议：Telnet</li>
<li>主机名：127.0.0.1</li>
<li>端口：在Piped自定义的Port</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/SecureCRT%E8%BF%9E%E6%8E%A5%E6%88%90%E5%8A%9F.png" alt="SecureCRT连接成功"></p>
<h3 id="0X01-IPS环境搭建"><a href="#0X01-IPS环境搭建" class="headerlink" title="0X01 IPS环境搭建"></a>0X01 IPS环境搭建</h3><h5 id="选择GNS"><a href="#选择GNS" class="headerlink" title="选择GNS"></a>选择GNS</h5><ul>
<li>GNS可以导入外部模块，但PT不行</li>
</ul>
<h5 id="初始化IPS"><a href="#初始化IPS" class="headerlink" title="初始化IPS"></a>初始化IPS</h5><ul>
<li>setup<ul>
<li>Enter host name:IPS</li>
<li>Enter IP Interface:设置VM8的IP地址以及网关</li>
<li>▲ 其他默认</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IPS-4240%E5%88%9D%E5%A7%8B%E5%8C%96%E9%85%8D%E7%BD%AE.png" alt="IPS-4240初始化配置"></p>
<p><img src="/images/ips/ips-notepad/IPS-4240%E5%88%9D%E5%A7%8B%E5%8C%96%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F.png" alt="IPS-4240初始化配置成功"></p>
<h5 id="IME"><a href="#IME" class="headerlink" title="IME"></a>IME</h5><ul>
<li>安装IME对密码有要求，弱口令无法登陆</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME%E8%AE%BE%E7%BD%AE%E7%AE%80%E5%8D%95%E5%AF%86%E7%A0%81%E6%8A%A5%E9%94%99.png" alt="IME设置简单密码报错"></p>
<ul>
<li>配置IME<ul>
<li>添加IPS的IP地址以及端口</li>
<li>添加IPS的账号密码</li>
<li>▲ 配置的时候，需要设置Configuration User和Event Subscription User</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME%E6%B7%BB%E5%8A%A0%E8%AE%BE%E5%A4%87.png" alt="IME添加设备"></p>
<p><img src="/images/ips/ips-notepad/IME%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F.png" alt="IME配置成功"></p>
<p><img src="/images/ips/ips-notepad/IPS-Configuration.png" alt="IPS-Configuration"></p>
<h3 id="0X02-IME–IPS使用"><a href="#0X02-IME–IPS使用" class="headerlink" title="0X02 IME–IPS使用"></a>0X02 IME–IPS使用</h3><h5 id="常用的网络安全设备"><a href="#常用的网络安全设备" class="headerlink" title="常用的网络安全设备"></a>常用的网络安全设备</h5><ul>
<li>防火墙</li>
<li>VPN（虚拟专用网络）</li>
<li>IDS和IPS</li>
<li>杀毒软件</li>
<li>UTM（威胁管理）</li>
</ul>
<h5 id="IPS-gt-Sensor-Setup"><a href="#IPS-gt-Sensor-Setup" class="headerlink" title="IPS -&gt; Sensor Setup"></a>IPS -&gt; Sensor Setup</h5><ul>
<li>Network<ul>
<li>Allow Password Recovery：这个选项默认是开启的。用于如果忘记IPS的登陆密码。可以在IPS启机过程当中使用密码恢复功能。把IPS的密码恢复成默认的cisco.注意。这个恢复。不会影响到IPS的一些相关配置。IPS默认是不开启telnet功能的。可以通过这个面板开启。</li>
<li>LOGIN Banner：用于在登陆IPS的时候，弹出相关告警。</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS--Network.png" alt="IME--IPS--Network"></p>
<p><img src="/images/ips/ips-notepad/IME--IPS--Login-Banner.png" alt="IME--IPS--Login-Banner"></p>
<ul>
<li>Allowed Host/Networks：用于限制哪个台设备，或者哪个网段。可以网管这台IPS。</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS--Permit.png" alt="IME--IPS--Permit"></p>
<ul>
<li>Time</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS--Time.png" alt="IME--IPS--Time"></p>
<ul>
<li>Authentication：用于管理IPS用户帐号密码，并为某个帐号授权相应权限</li>
<li>权限等级<ul>
<li>Administrator：管理员权限。对于IPS管理和配置来说。是最高权限。可以对IPS的基本网络，网络管理，接口管理，策略管理，日志读取进行配置</li>
<li>Operator：操作者权限。可以对于IPS的策略，日志读取进行配置</li>
<li>Viewer：查看者权限。紧紧只能对IPS的日志进行读取</li>
<li>Service：IPS底层权限。IPS底层修改时使用（通过Console口连接）</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS--Authentication.png" alt="IME--IPS--Authentication"></p>
<h5 id="IPS出入流量策略"><a href="#IPS出入流量策略" class="headerlink" title="IPS出入流量策略"></a>IPS出入流量策略</h5><ul>
<li><p>Outbound流量</p>
<ul>
<li>IPS对于这种流量不做任何限制。也就是说。只要是路由存在的情况下。并且在IPS去往某个目的IP的过程中，没有策略拒绝这股流量的话。IPS可以抵达网络中任何一个IP主机。</li>
<li>▲ IPS进行这种通信的时候。使用的是管理接口（M口）</li>
</ul>
</li>
<li><p>Inbound流量允许</p>
<ul>
<li>已建立连接的流量（对IPS的一个回程报文，始发者是IPS）</li>
<li>源自于NTP服务器的数据包</li>
<li>Allowed Host所放行的流量。Allowed Host类似于ACL应用在VTY链路。添加条目的时候，可以针对一个主机或者一个子网</li>
</ul>
</li>
</ul>
<h5 id="IPS-gt-Interface"><a href="#IPS-gt-Interface" class="headerlink" title="IPS -&gt; Interface"></a>IPS -&gt; Interface</h5><ul>
<li>Bypass<ul>
<li>用于修改</li>
<li>三种模式<ul>
<li>AUTO：自动模式。当IPS检测引擎发生故障的时候，对于流量的监控，自动关闭。直接放行流量（默认形式）</li>
<li>ON：开启旁路模式。IPS对流量的监控直接关闭。对任何来到IPS的流量都不做检测匹配，直接放行</li>
<li>OFF：关闭旁路模式。IPS对于流量的监控是必须的。如果发生检测引擎发送故障，而IPS又使用了这个模式，那么就会对网络造成一定的影响</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS--Bypass.png" alt="IME--IPS--Bypass"></p>
<h5 id="IPS-gt-Policies"><a href="#IPS-gt-Policies" class="headerlink" title="IPS -&gt; Policies"></a>IPS -&gt; Policies</h5><ul>
<li>Signatures：签名。攻击特征码。IPS匹配攻击流量的关键配置。对于网络中，形形色色各种流量。都是通过Sig去配置匹配指定的一些特殊流量</li>
<li>可以针对某一条sig进行配置：<br>动作，匹配参数，enable状态，退休状态。针对某条sig.进行克隆，编辑。删除。导出。等等一系列配置</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS--Sig%E7%89%B9%E5%BE%81%E7%A0%81.png" alt="IME--IPS--Sig特征码"></p>
<ul>
<li>VS：虚拟传感器。可以理解为一个虚拟的IPS。一个VS内，独立关联一个接口。独立的Sig攻击库，独立的规则，独立策略。多个VS之间，关联不同的接口。使用不同的策略。针对不同流量，实现不同的动作。VS之间相互不影响（从IPS软件版本6.X开始）<ul>
<li>描述</li>
<li>关联相关的接口</li>
<li>关联相关的SIG攻击库</li>
<li>关联相关的规则</li>
<li>▲ 可以使用一个策略配置在不同的VS里面。唯独！接口不能够重复配置在其他的VS</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS--VS1.png" alt="IME--IPS--VS1"></p>
<ul>
<li>Edit Actions：编辑针对某个Sig被触发后所执行的动作<ul>
<li>告警和日志行为<ul>
<li>Produce Alert–产生告警</li>
<li>Produce Verbose Alert–产生冗长告警。把触发这个Sig的数据抓包，并附在告警里</li>
<li>Log Attacker Packets–Log攻击者。对触发这条Sig的数据报文的源IP地址，在后面的一定时间内（可修改）。对其进行抓包，停止后，可以通过IDM下载这个抓包文件。使用抓包攻击打开，进行数据的分析 —-单一攻击源</li>
<li>Log Victim Packets–Log受害者。对触发这条Sig的数据报文的目的IP地址，在后面的一定时间内（可修改）对其进行抓包。停止后 —-多攻击源</li>
<li>Log Pair Packets–Log pair。对触发这条Sig的数据报文的指定的源和目的地址IP地址，在后面的一定时间内（可修改）。对其进行抓包。停止后，可以通过IDM下载这个抓包文件。使用抓包工具打开，进行数据的分析</li>
<li>Request SNMP Trap–SNMP Trap。需要指定SNMP服务器。把触发这条Sig的告警上传到指定服务器</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS--Edit-Actions.png" alt="IME--IPS--Edit-Actions"></p>
<h3 id="0X03-IME–IDS实验"><a href="#0X03-IME–IDS实验" class="headerlink" title="0X03 IME–IDS实验"></a>0X03 IME–IDS实验</h3><h5 id="IDS模拟实验"><a href="#IDS模拟实验" class="headerlink" title="IDS模拟实验"></a>IDS模拟实验</h5><ul>
<li>R1：Router C3700</li>
<li>R1：Router C3700</li>
<li>IDS：IPS-4240</li>
<li>SW：EtherSwitch router</li>
<li>▲ 2020.03.09 虚拟机IPS-4240的虚拟网卡VMware1和VMware2需要开启主机连接，且若在GNS3中无出现此两个网卡，可重启计算机，即可抓到这两个网卡</li>
</ul>
<p><img src="/images/ips/ips-notepad/IPS-4240%E5%BC%80%E5%90%AF%E7%9A%84%E4%B8%BB%E6%9C%BA%E8%BF%9E%E6%8E%A5.png" alt="IPS-4240开启的主机连接"></p>
<p><img src="/images/ips/ips-notepad/IDS%E6%9D%82%E5%90%88%E6%A8%A1%E5%BC%8F%E6%8A%A5%E8%AD%A6%E6%8B%93%E6%89%91%E5%9B%BE.png" alt="IDS杂合模式报警拓扑图"></p>
<h5 id="IDS：IPS-4240"><a href="#IDS：IPS-4240" class="headerlink" title="IDS：IPS-4240"></a>IDS：IPS-4240</h5><ul>
<li>改变外形：右键 -&gt; Change Symbol -&gt; ids</li>
<li>修改名字：右键 -&gt; Change the hostname -&gt; IDS</li>
<li>增加监控网卡：Configure -&gt; NIO Ethernet -&gt; Add VMnet1</li>
</ul>
<h5 id="R1和R2"><a href="#R1和R2" class="headerlink" title="R1和R2"></a>R1和R2</h5><ul>
<li>启动，降低系统资源消耗：右键 -&gt; Idle PC -&gt; 选取带*号的参数设备</li>
<li>配置R1<ul>
<li>conf t</li>
<li>interface f0/1</li>
<li>ip add 10.1.1.1 255.255.255.0</li>
<li>no sh</li>
</ul>
</li>
<li>配置R2<ul>
<li>conf t</li>
<li>interface f0/1</li>
<li>ip add 10.1.1.2 255.255.255.0</li>
<li>no sh</li>
</ul>
</li>
<li>连通性：R1 -&gt; do ping 10.1.1.2 -&gt; R2是否联通</li>
</ul>
<h5 id="SW：EtherSwitch-router"><a href="#SW：EtherSwitch-router" class="headerlink" title="SW：EtherSwitch router"></a>SW：EtherSwitch router</h5><ul>
<li>启动，降低系统资源消耗：右键 -&gt; Idle PC -&gt; 选取带*号的参数设备</li>
<li>修改名字：右键 -&gt; Change the hostname -&gt; SW</li>
<li>增加接口：右键 -&gt; Slots -&gt; 增加一个NM-16ESW</li>
</ul>
<h5 id="测试连通性"><a href="#测试连通性" class="headerlink" title="测试连通性"></a>测试连通性</h5><ul>
<li>R1(f 1/0)-&gt; SW(f 1/1)</li>
<li>R2(f 1/0)-&gt; SW(f 1/2)</li>
<li>IDS -&gt; SW(f 1/15)</li>
<li>连通性：R1 -&gt; ping 10.1.1.2 -&gt; R2是否连通</li>
</ul>
<h5 id="SPAN配置"><a href="#SPAN配置" class="headerlink" title="SPAN配置"></a>SPAN配置</h5><ul>
<li>SW：EtherSwitch router<ul>
<li>monitor session 1 source interface f1/1 rx  //R1</li>
<li>monitor session 1 destination interface f1/15  //IDS</li>
</ul>
</li>
</ul>
<h5 id="入侵检测"><a href="#入侵检测" class="headerlink" title="入侵检测"></a>入侵检测</h5><ul>
<li>▲ 所有的步骤都需要进行Apply</li>
<li>IME启动IPS</li>
<li>开启Interface接口<ul>
<li>Configuration -&gt; Interface -&gt; GigabitEthernet 0/0 -&gt; Edit -&gt; enable</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IDS%E5%BC%80%E5%90%AFInterface%E6%8E%A5%E5%8F%A3.png" alt="IME--IDS开启Interface接口"></p>
<ul>
<li>绑定病毒特征识别库Sig0<ul>
<li>Configuration -&gt; Policies -&gt; vs0 -&gt; Edit -&gt; GigabitEthernet 0/0</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IDS%E7%BB%91%E5%AE%9A%E7%97%85%E6%AF%92%E7%89%B9%E5%BE%81%E8%AF%86%E5%88%AB%E5%BA%93Sig0.png" alt="IME--IDS绑定病毒特征识别库Sig0"></p>
<ul>
<li>配置病毒特征识别库Sig0<ul>
<li>Sig0 -&gt; OS -&gt; 2004(过滤) -&gt; Change status To -&gt; Active</li>
<li>Sig0 -&gt; OS -&gt; 2004(过滤) -&gt; Enable</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IDS%E9%85%8D%E7%BD%AE%E7%97%85%E6%AF%92%E7%89%B9%E5%BE%81%E8%AF%86%E5%88%AB%E5%BA%93Sig0.png" alt="IME--IDS配置病毒特征识别库Sig0"></p>
<ul>
<li>监控IDS-ICMP事件<ul>
<li>Configuration -&gt; Sensor Monitoring -&gt; View</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IDS%E7%9B%91%E6%8E%A7IDS-ICMP%E4%BA%8B%E4%BB%B6.png" alt="IME--IDS监控IDS-ICMP事件"></p>
<ul>
<li>R1向R2发生ICMP Echo Requset的Ping包，查看IME–IPS的Event Viewer有无报警日志</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IDS%E7%9B%91%E6%8E%A7IDS%E4%BA%8B%E4%BB%B6.png" alt="IME--IDS监控IDS事件"> </p>
<h3 id="0X04-IME–IPS实验"><a href="#0X04-IME–IPS实验" class="headerlink" title="0X04 IME–IPS实验"></a>0X04 IME–IPS实验</h3><h5 id="IPS模拟实验"><a href="#IPS模拟实验" class="headerlink" title="IPS模拟实验"></a>IPS模拟实验</h5><ul>
<li>R1：Router C3700</li>
<li>R1：Router C3700</li>
<li>IDS：IPS-4240</li>
<li>SW：以太网交换机</li>
<li>▲ 2020.03.09 虚拟机IPS-4240的虚拟网卡VMware1和VMware2需要开启主机连接，且若在GNS3中无出现此两个网卡，可重启计算机，即可抓到这两个网卡</li>
</ul>
<p><img src="/images/ips/ips-notepad/IPS-4240%E5%BC%80%E5%90%AF%E7%9A%84%E4%B8%BB%E6%9C%BA%E8%BF%9E%E6%8E%A5.png" alt="IPS-4240开启的主机连接"></p>
<p><img src="/images/ips/ips-notepad/IPS%E5%9C%A8%E7%BA%BF%E6%A8%A1%E5%BC%8F%E6%8A%A5%E8%AD%A6%E6%8B%93%E6%89%91%E5%9B%BE.png" alt="IPS在线模式报警拓扑图"></p>
<h5 id="IPS：IPS-4240"><a href="#IPS：IPS-4240" class="headerlink" title="IPS：IPS-4240"></a>IPS：IPS-4240</h5><ul>
<li>改变外形：右键 -&gt; Change Symbol -&gt; ids</li>
<li>修改名字：右键 -&gt; Change the hostname -&gt; IDS</li>
<li>增加监控网卡：Configure -&gt; NIO Ethernet -&gt; Add VMnet1</li>
<li>增加监控网卡：Configure -&gt; NIO Ethernet -&gt; Add VMnet2</li>
</ul>
<h5 id="R1和R2-1"><a href="#R1和R2-1" class="headerlink" title="R1和R2"></a>R1和R2</h5><ul>
<li>启动，降低系统资源消耗：右键 -&gt; Idle PC -&gt; 选取带*号的参数设备</li>
<li>配置R1<ul>
<li>conf t</li>
<li>interface f0/1</li>
<li>ip add 10.1.1.1 255.255.255.0</li>
<li>no sh</li>
</ul>
</li>
<li>配置R2<ul>
<li>conf t</li>
<li>interface f0/1</li>
<li>ip add 10.1.1.2 255.255.255.0</li>
<li>no sh</li>
</ul>
</li>
<li>连通性：R1 -&gt; do ping 10.1.1.2 -&gt; R2是否联通</li>
</ul>
<h5 id="SW：Ethernet-switch"><a href="#SW：Ethernet-switch" class="headerlink" title="SW：Ethernet switch"></a>SW：Ethernet switch</h5><ul>
<li>启动，降低系统资源消耗：右键 -&gt; Idle PC -&gt; 选取带*号的参数设备</li>
<li>修改名字：右键 -&gt; Change the hostname -&gt; SW</li>
<li>增加接口：右键 -&gt; Slots -&gt; 增加一个NM-16ESW</li>
</ul>
<h5 id="测试连通性-1"><a href="#测试连通性-1" class="headerlink" title="测试连通性"></a>测试连通性</h5><ul>
<li>R1(f 1/0)-&gt; SW(1)</li>
<li>R2(f 1/0)-&gt; SW(2)</li>
<li>IDS -&gt; SW(3)</li>
<li>IDS -&gt; SW(4)</li>
</ul>
<h5 id="拓扑配置"><a href="#拓扑配置" class="headerlink" title="拓扑配置"></a>拓扑配置</h5><ul>
<li>▲ 所有的步骤都需要进行Apply</li>
<li>IME中配置接口对（mypair）<ul>
<li>Configuration -&gt; Interface Pairs -&gt; Add -&gt; 选取一对接口 -&gt; 开启</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS%E9%85%8D%E7%BD%AEmypair.png" alt="IME--IPS配置mypair"></p>
<ul>
<li>绑定病毒特征识别库Sig0<ul>
<li>Configuration -&gt; Policies -&gt; vs0 -&gt; Edit -&gt; mypair</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS%E7%BB%91%E5%AE%9A%E7%97%85%E6%AF%92%E7%89%B9%E5%BE%81%E8%AF%86%E5%88%AB%E5%BA%93Sig0.png" alt="IME--IPS绑定病毒特征识别库Sig0"></p>
<ul>
<li><p>划分VLAN</p>
<ul>
<li>SW<ul>
<li>端口1、3属于VLAN2</li>
<li>端口2、4属于VLAN3</li>
</ul>
</li>
</ul>
</li>
<li><p>连通性：R1 -&gt; ping 10.1.1.2 -&gt; R2是否连通</p>
</li>
</ul>
<h5 id="入侵检测-1"><a href="#入侵检测-1" class="headerlink" title="入侵检测"></a>入侵检测</h5><ul>
<li>▲ 所有的步骤都需要进行Apply</li>
<li>配置病毒特征识别库Sig0<ul>
<li>Sig0 -&gt; OS -&gt; 2004(过滤) -&gt; Change status To -&gt; Active</li>
<li>Sig0 -&gt; OS -&gt; 2004(过滤) -&gt; Enable</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS%E9%85%8D%E7%BD%AE%E7%97%85%E6%AF%92%E7%89%B9%E5%BE%81%E8%AF%86%E5%88%AB%E5%BA%93Sig0.png" alt="IME--IPS配置病毒特征识别库Sig0"></p>
<ul>
<li>监控IPS-ICMP事件<ul>
<li>Configuration -&gt; Sensor Monitoring -&gt; View</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS%E7%9B%91%E6%8E%A7IPS-ICMP%E4%BA%8B%E4%BB%B6.png" alt="IME--IPS监控IPS-ICMP事件"></p>
<ul>
<li>R1向R2发生ICMP Echo Requset的Ping包，查看IME–IPS的Event Viewer有无报警日志</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS%E7%9B%91%E6%8E%A7IPS%E4%BA%8B%E4%BB%B6.png" alt="IME--IPS监控IPS事件"> </p>

            </div>
          

    
      <footer class="post-footer">
		

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2020/07/12/wamp_dns/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">搭建wamp和域名服务</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2020/07/12/git_base/">
        <span class="next-text nav-default">Git基础</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
  </div>


      </footer>
    
  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2019 -
    
    2020
    <span class="footer-author">Tomas.</span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.1"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1"></script>

  </body>
</html>
