<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/img/default.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="Tomas">
  <meta name="keywords" content="">
  <title>Kali Linux笔记(三)：环境、环境配置 - Tomas&#39;Blog</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.12.1/css/all.min.css" />
<link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />
<link  rel="stylesheet" href="https://cdn.staticfile.org/mdbootstrap/4.13.0/css/mdb.min.css" />
<link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/3.0.1/github-markdown.min.css" />
<link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css">


  <link  rel="stylesheet" href="/lib/prettify/tomorrow.min.css" />

<link  rel="stylesheet" href="/css/main.css" />


  <link defer rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />


<!-- 自定义样式保持在最底部 -->


</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Tomas'Blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">首页</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/archives/">归档</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/categories/">分类</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">标签</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/links/">友链</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask rgba-black-light flex-center">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
                <p class="mt-3 post-meta">
                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                  星期一, 十二月 9日 2019, 7:29 晚上
                </p>
              

              <p class="mt-1">
                
                  
                  <span class="post-meta">
                    <i class="far fa-chart-bar"></i>
                    3.1k 字
                  </span>
                

                
                  
                  <span class="post-meta">
                      <i class="far fa-clock"></i>
                      13 分钟
                  </span>
                

                
                  <!-- 不蒜子统计文章PV -->
                  
                  <span id="busuanzi_container_page_pv" class="post-meta" style="display: none">
                    <i class="far fa-eye" aria-hidden="true"></i>
                    <span id="busuanzi_value_page_pv"></span> 次
                  </span>
                
              </p>
            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5 z-depth-3" id="board">
          <div class="post-content mx-auto" id="post">
            
              <p
                class="note note-warning">本文最后更新于：星期日, 一月 5日 2020, 10:44 上午</p>
            
            <div class="markdown-body">
              <hr>
<h4 id="1-熟悉环境"><a href="#1-熟悉环境" class="headerlink" title="1. 熟悉环境"></a>1. 熟悉环境</h4><ul>
<li>登陆密码</li>
<li>Top10安全工具<ul>
<li>aircrack-ng（wifi无线渗透）</li>
<li>hydra，john（密码破解）</li>
<li>burpsuit（web渗透）</li>
<li>maltego（信息收集）</li>
<li>metasploit framework（渗透测试框架，跟kail同个水平）</li>
<li>nmap（网络发现层的扫描器）</li>
<li>owasp-zap（web渗透测试工具）</li>
<li>sqlmap（sql注入工具，python语言开发）</li>
<li>wireshark（抓包分析工具）</li>
</ul>
</li>
<li>字体调整<ul>
<li><strong><code>🔺命令：gnome-tweak-tool</code></strong></li>
</ul>
</li>
<li>监视网络流量<ul>
<li><strong><code>🔺命令：apt-get install netspeed</code></strong>（2.0版本得上官网下载）</li>
</ul>
</li>
</ul>
<blockquote>
<p>新的安装方式：<a href="https://blog.csdn.net/coding_or_dead/article/details/53523596" target="_blank" rel="noopener">https://blog.csdn.net/coding_or_dead/article/details/53523596</a></p>
</blockquote>
<blockquote>
<p>扩展在software中，可以看到Extension setting</p>
</blockquote>
<ul>
<li>监视网络流量<ul>
<li>按住alt，右键添加网络流量监视（显示字节形式）</li>
</ul>
</li>
<li>强行终止程序<ul>
<li>按住alt，右键添加强制退出</li>
</ul>
</li>
<li>文件目录</li>
</ul>
<blockquote>
<p>/medir /mnt 都可以挂载目录，个人使用习惯</p>
</blockquote>
<ul>
<li>共享文件</li>
</ul>
<h4 id="2-熟悉BASH命令"><a href="#2-熟悉BASH命令" class="headerlink" title="2. 熟悉BASH命令"></a>2. 熟悉BASH命令</h4><blockquote>
<pre><code>终端界面为一个Shell,用户与系统交互的一个通道
A shell、B shell（kali默认）、D shell</code></pre></blockquote>
<ul>
<li>ls(查看文件)<ul>
<li>ls -l 查看常规格式显示文件信息 </li>
<li>ls /dev -l 目录第一个参数基本涵盖</li>
<li>ls -a 显示所有文件信息（显示隐藏文件）</li>
<li>ls -lh 以容易阅读的方式显示文件大小</li>
<li>ls -lh –sort=size 以大小进行排序</li>
<li>ls -lh –sort=time 以时间进行排序</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>第一个参数属性：
c--表示一个字符型设备
d--表示一个目录
l--表示一个链接，类似于window里面的快捷方式
b--表示一个块设备，block，硬盘分区sda</code></pre></blockquote>
<ul>
<li>cd（进入某个目录）<ul>
<li>cd . 当前目录</li>
<li>cd .. 当前目录的上一级目录</li>
</ul>
</li>
<li>pwd（查看当前工作目录）</li>
<li>cat（查看日志文件内容）<ul>
<li>cat /var/log/message（系统改变的信息）</li>
</ul>
</li>
<li>more(查看系统变化信息，下一屏幕通过Enter，q退出，同cat)</li>
<li>less(查看文件，跟more命令基本一样，同cat)</li>
<li>tail(默认显示最下面10行的内容，同cat)<ul>
<li>tail -20（查看最下面二十行）</li>
</ul>
</li>
<li>watch -n 指定进程 tail -行数 文件（watch和tail的联合）</li>
<li>cp（对文件进行复制）<ul>
<li>cp 文件名1 文件名2</li>
<li>cp -r 目录1 目录2</li>
</ul>
</li>
<li>rm（删除文件）<ul>
<li>rm 文件名</li>
<li>rm -r 目录名</li>
</ul>
</li>
<li>top(监视linux系统性能参数，每隔几秒钟进行更新，q退出)<ul>
<li>kill 进行PID（在top界面）</li>
</ul>
</li>
<li>ps（查看进程信息）<ul>
<li>ps -ef（查看进程详细信息，PPID父进程）</li>
<li>ps aux（同-ef显示项目相同，显示列信息稍微不同）</li>
</ul>
</li>
<li>grep（筛选输出内容）<ul>
<li>grep 所查内容 路径（例如：grep ssh /etc/passwd）</li>
</ul>
</li>
<li>ifconfig（查看当前网络配置信息）<ul>
<li>ifconfig 网卡 down（关闭网卡，macchanger -m 新MAC地址 网卡）</li>
</ul>
</li>
<li>netstat（查看网络连接信息）<ul>
<li>netstat -pantu（查看计算机与服务器产生的TCP、UDP连接）</li>
<li>netstat -pantu | egrep -v ‘0.0.0.0’| awk ‘{print $5}’</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>netstat -pantu | egrep -v &#39;0.0.0.0&#39;| awk &#39;{print $5}&#39; | cut -d &#39;:&#39; -f 1| egrep -v &#39;And&#39;| egrep -v &#39;Address&#39; | sort | uniq &gt; ip(文件)
awk--只显示（$列数）的数据，以空格作为间隔
sort--排序
cut--同egrep，分隔
uniq--把重复的内容只显示一次</code></pre></blockquote>
<ul>
<li>route(路由，网络信息)</li>
<li>mount（挂载文件夹，可本地可远程）<ul>
<li>mount -o loop iso文件 路径</li>
</ul>
</li>
<li>dmesg(查看messages文件内容，同tail，但不需要路径)</li>
<li>find（查找文件，目录）<ul>
<li>find 查找开始位置 -name “文件名称”（区分大小写）</li>
<li>find 查找开始位置 -iname “文件名称”（不区分大小写） </li>
<li>find .（当前目录） -name “文件名+通配符”</li>
<li>find .（当前目录） -name “文件名+通配符” -exec cp () /路径/{}.bak ;（隐藏目录不操作）</li>
</ul>
</li>
<li>whereis（系统数据库搜索路径，需要通过本地包安装，不可源码安装） <ul>
<li>whereis -b 文件名（查看二进制文件）</li>
<li>updatedb（更新whereis的数据库）</li>
</ul>
</li>
<li>echo（在当前终端窗口显示信息）</li>
<li>vi（文本编辑器）<ul>
<li>vi 目标文件（编辑目标文件）</li>
<li>：set number（显示行号）</li>
<li>：wq（写入退出）</li>
<li>i（插入模式）</li>
<li>esc（退出模式）</li>
<li>dd（删除一整行）</li>
<li>o（插入一行）</li>
<li>Y（复制）,T（黏贴）</li>
</ul>
</li>
</ul>
<h4 id="3-管道"><a href="#3-管道" class="headerlink" title="3. 管道"></a>3. 管道</h4><ul>
<li>cat /varc/log/messages | grep ssl</li>
<li>cd aaa &amp; ls （前后两个命令依次执行）</li>
<li>cd aaa &amp;&amp; ls（如果前面执行成功，才执行后面的命令）</li>
<li>cd aaa || ls（如果前面执行不成功，才去执行后面的命令）</li>
</ul>
<h4 id="4-shell脚本"><a href="#4-shell脚本" class="headerlink" title="4. shell脚本"></a>4. shell脚本</h4><ul>
<li>1.sh<ul>
<li>chmod =x 1.sh</li>
<li>./1.sh</li>
</ul>
</li>
</ul>
<pre><code>#!/bin/bash
echo -n &#39;IP:&#39;&#39;  //-n光标不换行
read ip
echo &#39;your ip is:&#39; $ip  </code></pre><ul>
<li>99.sh<ul>
<li>chmod =x 99.sh</li>
<li>./99.sh</li>
</ul>
</li>
</ul>
<pre><code>#!/bin/bash
for n in `seq 9`  //9的序列
do
   for m in `seq $n`
   do
   echo -n &quot;$m*$n=&quot; `expr $m \ * $n`&quot; &quot;
   done
 echo
done</code></pre><ul>
<li>ping.sh(活着的ip地址)<ul>
<li>chmod -x ping.sh</li>
<li>./ping.sh</li>
</ul>
</li>
</ul>
<pre><code>#!/bin/bash
for n in `seq 254`
do
   ping 192.168.100.$n -c 1 | grep ttl | awk &#39;{print $4}&#39;| awk -F: &#39;{print $1}&#39;
done</code></pre><ul>
<li>s1.sh(需要一个扫描预文件ip1)▲还未实现<ul>
<li>chmod -x s1.sh</li>
<li>./s1.sh</li>
</ul>
</li>
</ul>
<pre><code>#!/bin/bash
A=&#39;cat ip1&#39;
for B in $A
do
   n=&#39;echo $B | wc -L&#39;
   if [ $n -gt 6 ] ; then
      ip=$B
   else
       port=$B
       namp -p$port -sV $ip | grep -v Starting | grep -v Host | grep -v PORT | grep -v Service | grep -v done &gt;&gt; r1
       fi
done</code></pre><h4 id="5-网路配置-1"><a href="#5-网路配置-1" class="headerlink" title="5. 网路配置-1"></a>5. 网路配置-1</h4><ul>
<li>临时IP地址（重启后不生效,在临时设置有时间限制，大约30s连接时间）<ul>
<li><strong><code>🔺命令：dhclient eth0</code></strong>（自动获取IP地址）</li>
<li><strong><code>🔺命令：ifconfig eth0 192.168.100.x/24</code></strong>（指定一个IP地址）</li>
<li><strong><code>🔺命令：route add default gw 192.168.100.1</code></strong>（添加默认网关，缺省网关）</li>
<li><strong><code>🔺命令：netstat -pantu</code></strong>（查看IP网关信息）</li>
<li><strong><code>🔺命令：route add -net 172.16.0.0/24（vlan的ip地址） gw 192.168.100.x eth0</code></strong>（vlan 配置）</li>
<li><strong><code>🔺命令：echo nameserver 8.8.8.8&gt;/etc/resolv.conf</code></strong>（vi /etc/resolv.conf修改域名服务器）</li>
</ul>
</li>
<li>固定IP地址（重启后生效）<ul>
<li>cat /etc/network/interfaces</li>
<li>auto eth0</li>
<li>iface eth0 inet static</li>
<li>address 192.168.100.x（本机IP地址）</li>
<li>netmask 255.255.255.0（子网掩码）</li>
<li>network 192.168.100.0（网络地址，可不配置）</li>
<li>broadcast 192.168.100.255（广播地址，可不配置）</li>
<li>gateway 192.168.100.x（网关地址）</li>
<li>dns-nameservers 192.168.100.x（可写多个）</li>
<li>uproute add-net 172.16.2.0/24 gw 192.168.100.x eth1 （添加内部地址，静态路由）</li>
<li>down route del-net 172.168.2.x/24（电脑关闭的时候，关闭静态理由）</li>
</ul>
</li>
</ul>
<h4 id="6-更新升级"><a href="#6-更新升级" class="headerlink" title="6. 更新升级"></a>6. 更新升级</h4><ul>
<li><strong><code>🔺命令：apt-get update --fix-missing</code></strong>（不是更新工具包，是更新软件包的网络索引，通过后面的参数可以把有问题的索引删除）<ul>
<li>科技大学更新源（vi /etc/apt/source.list）▲源的地址无法找到</li>
<li>deb <a href="http://mirrors.ustc.edu.cn/kali" target="_blank" rel="noopener">http://mirrors.ustc.edu.cn/kali</a> kali main non-free contrib</li>
<li>deb-src <a href="http://mirrors.ustc.edu.cn/kali" target="_blank" rel="noopener">http://mirrors.ustc.edu.cn/kali</a> kali main non-free contrib</li>
<li>deb <a href="http://mirrors.ustc.edu.cn/kali-security" target="_blank" rel="noopener">http://mirrors.ustc.edu.cn/kali-security</a> kali/updates main contrib non-free</li>
</ul>
</li>
<li><strong><code>🔺命令：apt-get upgrade</code></strong>(更新实际软件包文件)</li>
<li><strong><code>🔺命令：apt-get dist-upgrade</code></strong>(大版本的更新)</li>
<li>重复执行</li>
</ul>
<h4 id="7-安装软件包"><a href="#7-安装软件包" class="headerlink" title="7. 安装软件包"></a>7. 安装软件包</h4><ul>
<li>库<ul>
<li>Apt-get命令（也可通过–fix-missing）</li>
</ul>
</li>
<li>安装适合自己的工具软件<ul>
<li>smplayer（媒体播放器）</li>
<li>ibus ibus-pinyin（中文输入法）</li>
<li>flashplugin-nonfree（浏览器flash插件）▲2019.11.22浏览器自带，2020年底将淘汰</li>
<li>gdebi（方便使用图形化界面安装deb）</li>
<li>amule、qbittorrent（磁力下载）</li>
<li>geany（程序开发环境）</li>
<li>stardict（英文字典，翻译软件）</li>
<li>meld（用来文件差异比较的软件）</li>
<li>ttf-wqy-microhei（字体）</li>
<li>kchmviewer（打开chm文件，微软帮助文件）</li>
<li>freemind（头脑风暴软件，思维导图）</li>
<li>netspeed（网络连接速度监视小工具）</li>
<li>mtr（路由追踪，图形化界面，同traceroute，<strong>🔺命令：mtr ip地址</strong>）</li>
<li>file-zilla、file-zilla-common(ftp客户端)</li>
<li>chromium（谷歌浏览器）</li>
<li>monodevelop、mono-gmcs-y（.net开发环境）</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>库中不存在的工具列表（2019.11.22）
flashplugin-nonfree
stardict
amule
monodevelop
mono-gmcs-y</code></pre></blockquote>
<h4 id="8-浏览器插件"><a href="#8-浏览器插件" class="headerlink" title="8. 浏览器插件"></a>8. 浏览器插件</h4><ul>
<li>firefox浏览器插件<ul>
<li>AutoProxy（翻墙指定代理）▲2019.12.29 替换为FoxyProxy</li>
<li>Cookie Importer（导入Cookie）▲2019.11.22替换为Cookie Import Export</li>
<li>Cookies Manager（管理Cookie信息）</li>
<li>Download YouTube Videos as MP4（下载MP4视频）▲2019.11.22替换为YouTube Download plus</li>
<li>Firebug（基于Web调试）▲2019.11.22替换为Firebug Persona</li>
<li>Flagfox（网页国家服务器）</li>
<li>FlashGot（允许视频文件下载）</li>
<li>HackBar（Web渗透测试重要工具）</li>
<li>hashr（计算哈希值）▲2019.11.22替换为PwdHash</li>
<li>Live HTTP headers（对HTTP header进行拦截，查看）</li>
<li>SQL Inject Me（SQL注入攻击）▲2019.11.22未找到</li>
<li>Tamper Data（浏览器向服务器的HTTP进行查看，修改数据包头）▲2019.11.22未找到</li>
<li>User Agent Switcher（修改特征字符串，firefox→IE）</li>
<li>XSS Me（跨站脚本攻击）▲2019.11.22替换为EasyXSS</li>
</ul>
</li>
</ul>
<blockquote>
<pre><code>浏览器（alt键）→Tools→Add-ons
XSS-Me（https://addons.mozilla.org/en-US/firefox/addon/xss-me）
SQL-Inject-Me(https://addons.mozilla.org/en-US/firefox/addon/sql-inject-me/$src=ss)</code></pre></blockquote>
<h4 id="9-安装JAVA-1"><a href="#9-安装JAVA-1" class="headerlink" title="9. 安装JAVA-1"></a>9. 安装JAVA-1</h4><ul>
<li>下载(<a href="https://www.oracle.com/technetwork/java/javase/downloads）" target="_blank" rel="noopener">https://www.oracle.com/technetwork/java/javase/downloads）</a></li>
<li>解压缩包（需要下载jdk和jre两者合并的包，2019.11.22用的是jdk-8u231包）<ul>
<li><strong><code>🔺命令：tar -xzvf java路径</code></strong></li>
<li><strong><code>🔺命令：mv jdk版本 /opt</code></strong></li>
<li><strong><code>🔺命令：cd /opt/jdk版本（路径）</code></strong></li>
</ul>
</li>
<li>安装注册<ul>
<li><strong><code>🔺命令：update-alternatives --install /usr/bin/java java /opt/jdk版本/bin/java 1</code></strong></li>
<li><strong><code>🔺命令：update-alternatives --install /usr/bin/javac javac /opt/jdk版本/bin/javac 1</code></strong></li>
<li><strong><code>🔺命令：update-alternatives --install /usr/lib/mozilla/plugins/libjavaplugin.so mozilla-javaplugin.so /opt/jdk路径/jre/lib/amd64/libnpjp2.so 1</code></strong></li>
</ul>
</li>
</ul>
<h4 id="10-安装JAVA-2"><a href="#10-安装JAVA-2" class="headerlink" title="10. 安装JAVA-2"></a>10. 安装JAVA-2</h4><ul>
<li>默认设置<ul>
<li><strong><code>🔺命令：update-alternatives --set java /opt/jdk版本/bin/java</code></strong></li>
<li><strong><code>🔺命令：update-alternatives --set javac /opt/jdk版本/bin/javac</code></strong></li>
<li><strong><code>🔺命令：update-alternatives --set mozilla-javaplugin.so /opt/jdk版本/jre/lib/amd64/libnpjp2.so</code></strong></li>
</ul>
</li>
<li>验证<ul>
<li><strong><code>🔺命令：java -version</code></strong>（主机验证java安装）</li>
<li><a href="http://www.java.com/en/download/installed.jsp" target="_blank" rel="noopener">http://www.java.com/en/download/installed.jsp</a> (网页验证java安装，firefox Version 52之后不提供plugins的验证)</li>
</ul>
</li>
</ul>
<h4 id="11-安装显卡驱动"><a href="#11-安装显卡驱动" class="headerlink" title="11. 安装显卡驱动"></a>11. 安装显卡驱动</h4><ul>
<li>GPU的用途<ul>
<li>Nvidia</li>
<li>Ati</li>
</ul>
</li>
<li>Nvidia显卡驱动安装<ul>
<li><strong><code>🔺命令：apt-get update</code></strong></li>
<li><strong><code>🔺命令：apt-get dist-upgrade</code></strong></li>
<li><strong><code>🔺命令：apt-get install -y（直接安装） linux-headers-$(uname -r)</code></strong></li>
<li><strong><code>🔺命令：apt-get install nvidia-kernel-dkms(Nvidia架构库)</code></strong></li>
<li><strong><code>🔺命令：sed &#39;s/quiet/quiet nouveau.modeset=0/g&#39; -i /etc/default/grub</code></strong></li>
<li><strong><code>🔺命令：update-grub</code></strong></li>
<li><strong><code>🔺命令：reboot</code></strong></li>
</ul>
</li>
<li>验证<ul>
<li><strong><code>🔺命令：glxinfo | grep -i &quot;direct rendering&quot;</code></strong>(需apt-get install mesa-utils，不然会报glxinfo commond not found)<ul>
<li>direct rendering:Yes</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="12-无线网卡补丁"><a href="#12-无线网卡补丁" class="headerlink" title="12. 无线网卡补丁"></a>12. 无线网卡补丁</h4><ul>
<li>最新版内核已经集成无线驱动补丁（版本1.09之前，包括1.09）</li>
<li>如果你在使用老版本内核（<strong><code>🔺命令：uname -a</code></strong>查看版本）▲未验证<ul>
<li><strong><code>🔺命令：cd /usr/src/</code></strong></li>
<li><strong><code>🔺命令：wget https://www.kernel.org/pub/linux/kernel/projects/backports/stable/v kali的版本/backports-kali的版本-1.tar.bz2</code></strong></li>
<li><strong><code>🔺命令：tar xvf backports-kali的版本-1.tar.gz</code></strong></li>
<li><strong><code>🔺命令：cd backports-kali的版本-1</code></strong></li>
<li><strong><code>🔺命令：apt-get install patch</code></strong></li>
<li><strong><code>🔺命令：wget http://patches.aircrack-ng.org/mac80211.compat08082009.wt_frag+ack_v1.patch</code></strong></li>
<li><strong><code>🔺命令：patch -p1 &lt; mac80211.compat08082009.wt_frag+ack_v1.patch</code></strong>`**</li>
<li><strong><code>🔺命令：apt-get install libncurses5-dev</code></strong>(安装开发库文件)</li>
<li><strong><code>🔺命令：airmon-ng</code></strong>(查看驱动)</li>
<li><strong><code>🔺命令：make defconfig-ath9k</code></strong>（替换芯片驱动）</li>
<li><strong><code>🔺命令：make &amp;&amp; make install</code></strong></li>
</ul>
</li>
</ul>
<h4 id="13-并发线程限制"><a href="#13-并发线程限制" class="headerlink" title="13. 并发线程限制"></a>13. 并发线程限制</h4><ul>
<li>ulimit用于限制当前shell内进程的资源使用</li>
<li>查看默认值<ul>
<li><strong><code>🔺命令：ulimit -a</code></strong></li>
</ul>
</li>
<li>全局配置文件：/etc/security/limits<ul>
<li><domain><type><item><value></li>
</ul>
</li>
<li>用途距离<ul>
<li>限制堆栈大小：<strong><code>🔺命令：ulimit -s 100（文件大小）</code></strong></li>
<li>限制shell内存使用：<strong><code>🔺命令：ulimit -m（最大内存大小） 5000 -v（虚拟内存大小） 5000</code></strong></li>
<li>限制并发次数，openfile ：<strong><code>🔺命令：ulimit -n 900000（次数）</code></strong></li>
</ul>
</li>
<li>没有直接对socket数量的限制参数<ul>
<li>Linux系统中一切都是文件，运行中的文件叫做进程</li>
<li><strong><code>🔺命令：vi /.bashrc→ulimit -n 900000</code></strong>（持久化ulimit）</li>
</ul>
</li>
</ul>
<h4 id="14-电源优化（kali耗电非常大）"><a href="#14-电源优化（kali耗电非常大）" class="headerlink" title="14. 电源优化（kali耗电非常大）"></a>14. 电源优化（kali耗电非常大）</h4><ul>
<li>渗透测试系统耗电较大</li>
<li>延长电池寿命<ul>
<li>无操作挂起，关闭显示器(系统设置中的电源，选择操作)</li>
<li>降低显示器亮度（系统设置中的电源，降低亮度）</li>
<li>不使用时关闭无线网卡</li>
<li>开启硬盘省电选项<ul>
<li><strong><code>🔺命令：hdparm -i /dev/sdx if AdvancedPM=yes then hdparm -B 1 -S 12 /dev/sdx</code></strong></li>
</ul>
</li>
<li>启动笔记本模式(<strong><code>🔺命令：chmod a+x 脚本</code></strong>)<pre><code>#!/bin/bash
</code></pre></li>
</ul>
</li>
</ul>
<p>currentMode=$(cat /proc/sys/vm/laptop_mode)<br>if [ $currentMode -eq 0 ]<br>then<br>echo “5”&gt;/proc/sys/vm/laptop_mode<br>echo “Laptop Mode Enabled”<br>else<br>echo “0”&gt;/proc/sys/vm/laptop_mode<br>echo “Laptop Mode Disabled”<br>fi</p>
<pre><code>
#### 15. 服务开关

  - Kali Linux默认未启动所有网络服务
  - **`🔺命令：update-rc.d ssh defaults`**（持久化启动服务）
     - **`🔺命令：update-rc.d ssh start 20 2 3 4 5 .stop 20 0 1 6.`**
     - **`🔺命令：update-rc.d A defaults 80（启动优先级） 20（关闭优先级）`**
     - **`🔺命令：update-rc.d B defaults 90（启动优先级） 10（关闭优先级）`**
  - **`🔺命令：/etc/init.d/ssh start`**(临时开启服务)
  - 重启操作系统 **`🔺命令：init 6`**
  - 关闭操作系统 **`🔺命令：init 0`**

&gt;     运行级别：
&gt;     0：关机
&gt;     1：单用户模式
&gt;     2.3.4.5：多用户模式
&gt;     6：重启</code></pre>
            </div>
            <hr>
            <div>
              <p>
                
                  <span>
                <i class="iconfont icon-inbox"></i>
                    
                      <a class="hover-with-bg" href="/categories/Kali/">Kali</a>
                      &nbsp;
                    
                  </span>&nbsp;&nbsp;
                
                
                  <span>
                <i class="iconfont icon-tag"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E5%AE%89%E5%85%A8/">安全</a>
                    
                  </span>
                
              </p>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="nofollow noopener noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                      <a href="/2019/12/09/Kali%20Linux%E7%AC%94%E8%AE%B0(%E5%8D%81)%EF%BC%9ADNS%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/">
                        <i class="fa fa-chevron-left"></i>
                        <span class="hidden-mobile">Kali Linux笔记(十)：DNS信息收集</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/2019/12/09/Kali%20Linux%E7%AC%94%E8%AE%B0(%E4%B8%83)%EF%BC%9AWireshark/">
                        <span class="hidden-mobile">Kali Linux笔记(二)：Wireshark</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="fa fa-chevron-right"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

              
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc-start"></div>
<div id="toc">
  <p class="h5"><i class="far fa-list-alt"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->

  <div class="col-lg-7 mx-auto nopadding-md">
    <div class="container custom post-content mx-auto">
      <h3>你好，Tomas，生命仍在继续......</h3>
    </div>
  </div>


    
  </main>

  
    <a class="z-depth-1" id="scroll-top-button" href="#" role="button">
      <i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo</b></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"> <b>Fluid</b></a>
    </div>
    

    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/popper.js/1.16.1/umd/popper.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="https://cdn.staticfile.org/mdbootstrap/4.13.0/js/mdb.min.js" ></script>
<script  src="/js/main.js" ></script>


  <script  src="/js/lazyload.js" ></script>



  
  <script  src="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var navHeight = $('#navbar').height();
      var toc = $('#toc');
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;
      var tocLimMax = 2 * boardTop + boardCtn.height();

      $(window).scroll(function () {
        var tocLimMin = $('#toc-start').offset().top - navHeight;
        var scroH = document.body.scrollTop + document.documentElement.scrollTop;

        if (tocLimMin <= scroH && scroH <= tocLimMax) {
          toc.css({
            'display': 'block',
            'position': 'fixed',
            'top': navHeight,
          });
        } else if (scroH <= tocLimMin) {
          toc.css({
            'position': '',
            'top': '',
          });
        } else if (scroH > tocLimMax) {
          toc.css('display', 'none');
        }
      });
      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '.post-content',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc > p').css('visibility', 'visible');
      }
      var offset = boardCtn.css('margin-right')
      $('#toc-ctn').css({
        'right': offset
      })
    });
  </script>





  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>





  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




<!-- Plugins -->



  <script  src="https://cdn.staticfile.org/prettify/188.0.0/prettify.min.js" ></script>
  <script>
    $(document).ready(function () {
      $('pre').addClass('prettyprint  linenums');
      prettyPrint();
    })
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "Kali Linux笔记(三)：环境、环境配置&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      getSearchFile(path);
      this.onclick = null
    }
  </script>



  <script defer src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <script>
    $("#post img:not(.no-zoom img, img[no-zoom])").each(
      function () {
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "images");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      }
    );
  </script>












</body>
</html>
